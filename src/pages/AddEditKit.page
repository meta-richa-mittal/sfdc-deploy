<apex:page standardStylesheets="false" showChat="false" showHeader="false" sidebar="false" docType="html-5.0"  controller="GlobalController">
        <!-- <apex:stylesheet value="{!Application}/css/AddEditKit.css"/> -->
  <div>
    <route-loading-indicator></route-loading-indicator>
    <div ng-if="!isRouteLoading" ng-cloak="ng-cloak">       
    <div id="addNewKit" class="modal fade" role="dialog">
        <div class="modal-dialog" ng-class="{'edit_modal-dialog' : KitCompModal.isEditMode == true}">
            <!-- Modal content-->
            <div class="modal-content col-md-12">
                <div class="modal-body popup_container kit_popup_container">
                    <div class="popupinside">
                        
                        <!-- popup left start here -->
                        <div class="col-md-4 popupleft" ng-show="KitCompModal.isEditMode != true">
                            <div class="popupleft_container" id="topsection">
                                <h1 class="letpanel_heading"> {{ 'Existing_kits_like_this' | translate }} </h1>
                                <i class="fa fa-question-circle helptip" 
                                    style="float: left; font-weight: bold; color: #B7BEC6; margin-top: 20px; margin-bottom: 10px; font-size: 20px;"></i>
                                <div ng-class="{'min_overflow': KitCompModal.KitModal.IsServiceKit != true , 'max_overflow': KitCompModal.KitModal.IsServiceKit == true}">
                                    <div class="goldbox col-lg-12 col-md-12" ng-repeat="kit in KitCompModal.SimilarKits">
                                        <!-- <div class="leftgoldbox">
                                            <img class="starimg" src="{!URLFOR($Resource.Images, 'star.png')}" />
                                            <div class="star_container">
                                                <i class="fa fa-star" style="float: left; color: #B7BEC6; margin-top: 5px; font-size: 15px;"></i>
                                                <i class="fa fa-star" style="float: left; color: #B7BEC6; margin-top: 5px; font-size: 15px;"></i>
                                            </div>
                                        </div> -->

                                        <div class="rightgoldbox rightgoldboxML" id="CustomerSugesstionDiv" style="margin-left: 0px;">

                                            <div>
                                                <p class="cust_name">{{kit.Code}}</p>
                                                <p>{{ 'PriceLevelGrid_Description' | translate }} : {{kit.Description}}</p>

                                                <p>{{ 'Can_it_be_split' | translate }} : 
                                                    <span ng-if="kit.CanItSplit"> {{ 'Label_Yes' | translate }} </span> 
                                                    <span ng-if="!kit.CanItSplit"> {{ 'Label_No' | translate }} </span>


                                                </p>
                                                <p>{{ 'Service_kit' | translate }} : 
                                                    <span ng-if="kit.IsServiceKit"> {{ 'Label_Yes' | translate }} </span> 
                                                    <span ng-if="!kit.IsServiceKit"> {{ 'Label_No' | translate }} </span>

                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <!-- popup left end here -->


                        <!--  new kit user start here -->
                        <div class="popupright" ng-class="{'col-lg-8 col-md-8': KitCompModal.isEditMode == false , 'leftBorderNone  col-lg-12 col-md-12': KitCompModal.isEditMode == true}">
                            <div class="right_heading_container col-md-12">
                                <h1 class="right_panel_heading" ng-if="!KitCompModal.isEditMode"> {{ 'New_kit' | translate }} </h1>
                                <h1 class="right_panel_heading" ng-if="KitCompModal.isEditMode">  {{ 'Edit_kit' | translate }}  </h1>
                                <div class="savecancle_btncntnr">
                                    <button type="button" id="closemodal" class="btn btn-default grayBtn" 
                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 17}}" 
                                        ng-click="KitCompModal.closePopup()"> {{ 'Cancel_Label' | translate }} </button>
                                    <button type="button" class="btn btn-default greenBtn" 
                                        ng-keydown = "KitCompModal.adjustTabIndex($event);"
                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 18}}" 
                                        ng-disabled='KitCompModal.disableSaveBtn'
                                        ng-click="KitCompModal.SaveKitForm()"> {{ 'Save_Label' | translate }} </button><!-- ng-disabled: Added By Pooja 21 Jan. 2017  -->
                                </div>
                            </div>

                            <div class="tabconainer">
                                <form>
                                    <div class="clearfix"></div>
                                    <div class="option_field">
                                        <div class="lable_fields">
                                            <span class="form_lable_icons text hiddenfield"> </span>
                                            <p class="req-label">{{ 'Label_Code' | translate }}</p>
                                        </div>
                                        <div class="form_fields">
                                            <div class="form-group MB WP">
                                                <input type="text" class="form-control" id="feeCodeInput" ng-model="KitCompModal.KitModal.Code" 
                                                        placeholder="{{'Label_Code'| translate }}" rel="kitCode" ng-disabled="KitCompModal.isEditMode"
                                                        maxlength="255" ng-blur="KitCompModal.validateFieldWithKey('Code'); KitCompModal.getSimilarKits('Code');" 
                                                        ng-class="{'redborder' : KitCompModal.KitFormValidationModal['Code']['isError'] == true}"
                                                        data-toggle="tooltip" title="{{KitCompModal.KitFormValidationModal['Code']['ErrorMessage']}}"
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 1}}"
                                                        ng-focus="KitCompModal.formFieldJustGotFocus('kitCode')"/>
                                            </div>
                                            
                                        </div>
                                        <div class=" controls" id="kitCode">
                                                <i class="fa fa-question-circle MTP" data-toggle="tooltip" title="{{KitCompModal.helpText['Code']}}"></i> 
                                                <i class="fa fa-times" 
                                                    ng-click="KitCompModal.clearFields('Code','value');"></i>
                                        </div>
                                    </div>
                                    
                                   
                                    
                                    
                                    
                                    <div class="clearfix"></div>
                                    
                                    <div class="option_field">
                                        <div class="lable_fields">
                                            <!-- <span class="form_lable_icons text"> 100 </span> -->
                                            <span class="form_lable_icons text" style="background: none;"></span>
                                            <p class="req-label"> {{ 'Label_Description' | translate }} </p>
                                        </div>
                                        <div class="form_fields">
                                            <div class="form-group MB WP">
                                                <input type="text" class="form-control" id="txtdescription" ng-model="KitCompModal.KitModal.Description" placeholder="{{ 'Label_Description' | translate }}" rel="kitDescription" 
                                                        ng-blur="KitCompModal.validateFieldWithKey('Description'); KitCompModal.getSimilarKits('Description');" ng-class="{'redborder' : KitCompModal.KitFormValidationModal['Description']['isError'] == true}"
                                                        data-toggle="tooltip" title="{{KitCompModal.KitFormValidationModal['Description']['ErrorMessage']}}"
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 2}}"
                                                        ng-focus="KitCompModal.formFieldJustGotFocus('kitDescription')"/>
                                            </div>
                                            
                                        </div>
                                        <div class=" controls" id="kitDescription">
                                                <i class="fa fa-question-circle MTP" data-toggle="tooltip" title="{{KitCompModal.helpText['Description']}}"></i> 
                                                <i class="fa fa-times"
                                                    ng-click="KitCompModal.clearFields('Description','value');"></i>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    
                                    <div class="option_field">
                                        <div class="lable_fields">
                                            <span class="form_lable_icons text hiddenfield"> </span>
                                            <p> {{ 'Can_it_be_split' | translate }} </p>
                                        </div>
                                        <div class="form_fields">
                                            <div class="form-group large">
                                                <label class="checkbox smschkbox"> 
                                                    <span class="chk_tick" ng-class="{'chked': KitCompModal.KitModal.CanItSplit == true}"
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 3}}"
                                                        ng-enter="KitCompModal.KitModal.CanItSplit = !KitCompModal.KitModal.CanItSplit" 
                                                        ng-click="KitCompModal.KitModal.CanItSplit = !KitCompModal.KitModal.CanItSplit"> 
                                                        <i class="fa fa-check-square chksqure"></i>

                                                    </span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    
                                    
                                    <div class="option_field">
                                        <div class="lable_fields">
                                            <span class="form_lable_icons text hiddenfield"> </span>
                                            <p> {{ 'Service_kit' | translate }} </p>
                                        </div>
                                        <div class="form_fields">
                                            <div class="form-group large">
                                                <label class="checkbox smschkbox"> 
                                                    <span class="chk_tick" ng-class="{'chked': KitCompModal.KitModal.IsServiceKit}"
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 4}}"
                                                        ng-enter="KitCompModal.toggleServiceKit();" 
                                                        ng-click="KitCompModal.toggleServiceKit();"> 
                                                        <i class="fa fa-check-square chksqure"></i>

                                                    </span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                
                                    <div class="option_field" ng-show="KitCompModal.isEditMode">
                                        <div class="lable_fields">
                                            <span class="form_lable_icons text hiddenfield"> </span>
                                            <p> {{ 'SalesTaxGrid_Active' | translate }} </p>
                                        </div>
                                        <div class="form_fields">
                                            <div class="form-group large">
                                                <label class="checkbox smschkbox"> 
                                                    <span class="chk_tick" ng-class="{'chked': KitCompModal.KitModal.IsActive}" 
                                                    ng-attr-tabindex="{{KitCompModal.tabIndexValue + 5}}"
                                                    ng-enter="KitCompModal.KitModal.IsActive = !KitCompModal.KitModal.IsActive;" 
                                                    ng-click="KitCompModal.KitModal.IsActive = !KitCompModal.KitModal.IsActive;"> 
                                                        <i class="fa fa-check-square chksqure"></i>
                                                    </span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                               
                               
                                </form>
                            </div>


                            <div class="tabconainer BTPT" ng-show="KitCompModal.KitModal.IsServiceKit">
                                <form>
                                    <div class="clearfix"></div>
                                    
                                     <!-- Start: updated by pooja -->
                                   <div class="option_field">
                                         <div class="lable_fields" style="margin-top: 25px;">
                                            <span class="form_lable_icons text hiddenfield"> </span>
                                            <p> {{ 'Service_need' | translate }} </p>
                                        </div> 
                                        <div class="form_fields MT">
                                            <div class="form-group large MB">
                                                <p> {{ 'Label_Concern' | translate }} </p>
                                                <div class="multiselect">
                                                    <!-- START: Edited by Kajal - #147 - 09/26/2016 -->
                                                    <div ng-repeat="value in KitCompModal.KitModal.Concern track by $index">
                                                        <span ng-show="!KitCompModal.CauseConcernCorrectionItems_editRow.Concern[$index].isEdit"> 
                                                            <span ng-click="KitCompModal.editCauseConcernCorrectionItem($event, $index, 'Concern')" rel="Concern"> <!-- rel Added by richa #147 30/09/2016-->
                                                            {{value}} </span>
                                                            <i class="fa fa-times" ng-click="KitCompModal.removeFromMultiSelect($event, $index, 'Concern')"></i>
                                                        </span>
                                                        <div ng-show="KitCompModal.CauseConcernCorrectionItems_editRow.Concern[$index].isEdit">
                                                            <input type="text" id="causeConcernCorrectionLabeledit_Concern_{{$index}}" class="txtbox form-control causeConcernCorrectionLabeledit_Concern_{{$index}}" 
                                                            ng-attr-tabindex="{{KitCompModal.tabIndexValue + 6}}" maxlength="2000" ng-model="KitCompModal.KitModal.Concern[$index]" placeholder="{{ 'Label_Add' | translate }} {{ 'Label_Item' | translate }}"
                                                            rel="Concern" ng-keydown="KitCompModal.editCauseConcernCorrectionRowTabOut($event, $index, 'Concern');"
                                                            ng-focus="KitCompModal.formFieldJustGotFocus('Concern')"/> <!-- ng-attr-tabindex Added by richa #147 30/09/2016-->
                                                        </div>
                                                    </div>
                                                    <!-- END: Edited by Kajal - #147 - 09/26/2016 -->
                                                    <input type="text" class="txtbox form-control" id="txtconcern" ng-model="KitCompModal.NewConcern" 
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 6}}" 
                                                        ng-disabled="KitCompModal.CauseConcernCorrectionItems_editRow.isEditEnabled_Concern == false"
                                                        placeholder="{{'add_item'| translate }}" rel="Concern" ng-keydown="KitCompModal.addAndRemoveFromMultiSelect($event, 'Concern');" ng-focus="KitCompModal.formFieldJustGotFocus('Concern')" />
                                                </div>
                                            </div>
                                            
                                        </div>
                                        <div class="controls MTP30" id="Concern">
                                            <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Concern']}}"></i>
                                            <i class="fa fa-times"
                                                ng-click="KitCompModal.clearFields('Concern','array');"></i>
                                        </div>
                                    </div>
                                    <div class="option_field">
                                        <div class="form_fields MT">
                                            <div class="form-group large MB">
                                                <p> {{ 'Label_Cause' | translate }} </p>
                                                <div class="multiselect">
                                                    <!-- START: Edited by Kajal - #147 - 09/26/2016 -->
                                                    <div ng-repeat="value in KitCompModal.KitModal.Cause track by $index">
                                                        <span ng-show="!KitCompModal.CauseConcernCorrectionItems_editRow.Cause[$index].isEdit"> 
                                                            <span ng-click="KitCompModal.editCauseConcernCorrectionItem($event, $index, 'Cause')" rel="Cause"> <!-- rel Added by richa #147 30/09/2016-->
                                                           {{value}} </span>
                                                            <i class="fa fa-times" ng-click="KitCompModal.removeFromMultiSelect($event, $index, 'Cause')"></i>
                                                        </span>
                                                        <div ng-show="KitCompModal.CauseConcernCorrectionItems_editRow.Cause[$index].isEdit">
                                                            <input type="text" id="causeConcernCorrectionLabeledit_Cause_{{$index}}" class="txtbox form-control causeConcernCorrectionLabeledit_Cause_{{$index}}" 
                                                            ng-attr-tabindex="{{KitCompModal.tabIndexValue + 7}}" maxlength="2000" ng-model="KitCompModal.KitModal.Cause[$index]" placeholder="{{ 'Label_Add' | translate }} {{ 'Label_Item' | translate }}"
                                                            rel="Cause" ng-keydown="KitCompModal.editCauseConcernCorrectionRowTabOut($event, $index, 'Cause');"
                                                            ng-focus="KitCompModal.formFieldJustGotFocus('Cause')"/> <!-- ng-attr-tabindex Added by richa #147 30/09/2016-->
                                                        </div>
                                                    </div>
                                                    <!-- END: Edited by Kajal - #147 - 09/26/2016 -->
                                                    <input type="text" class="txtbox form-control" id="txtcause" ng-model="KitCompModal.NewCause" 
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 7}}" 
                                                        ng-disabled="KitCompModal.CauseConcernCorrectionItems_editRow.isEditEnabled_Cause == false"
                                                        placeholder="{{'add_item'| translate }}" rel="Cause" ng-keydown="KitCompModal.addAndRemoveFromMultiSelect($event, 'Cause');" ng-focus="KitCompModal.formFieldJustGotFocus('Cause')"/>
                                                </div>
                                            </div>

                                            
                                        </div>
                                        <div class="controls MTP30" id="Cause">
                                            <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Cause']}}"></i>
                                            <i class="fa fa-times"
                                                ng-click="KitCompModal.clearFields('Cause','array');"></i>
                                        </div>
                                     </div>
                                     <div class="option_field">

                                        <div class="form_fields MT">
                                            <div class="form-group large MB">
                                                <p> {{ 'Label_Correction' | translate }} </p>
                                                <div class="multiselect">
                                                    <!-- START: Edited by Kajal - #147 - 09/26/2016 -->
                                                    <div ng-repeat="value in KitCompModal.KitModal.Correction track by $index">
                                                        <span ng-show="!KitCompModal.CauseConcernCorrectionItems_editRow.Correction[$index].isEdit"> 
                                                            <span ng-click="KitCompModal.editCauseConcernCorrectionItem($event, $index, 'Correction')" rel="Correction"> <!-- rel Added by richa #147 30/09/2016-->
                                                            {{value}} </span>
                                                            <i class="fa fa-times" ng-click="KitCompModal.removeFromMultiSelect($event, $index, 'Correction')"></i>
                                                        </span>
                                                        <div ng-show="KitCompModal.CauseConcernCorrectionItems_editRow.Correction[$index].isEdit">
                                                            <input type="text" id="causeConcernCorrectionLabeledit_Correction_{{$index}}" class="txtbox form-control causeConcernCorrectionLabeledit_Correction_{{$index}}" 
                                                            ng-attr-tabindex="{{KitCompModal.tabIndexValue + 8}}" maxlength="2000" ng-model="KitCompModal.KitModal.Correction[$index]" placeholder="{{ 'Label_Add' | translate }} {{ 'Label_Item' | translate }}"
                                                            rel="Correction" ng-keydown="KitCompModal.editCauseConcernCorrectionRowTabOut($event, $index, 'Correction');"
                                                            ng-focus="KitCompModal.formFieldJustGotFocus('Correction')"/> <!-- ng-attr-tabindex Added by richa #147 30/09/2016-->
                                                        </div>
                                                    </div>
                                                    <!-- END: Edited by Kajal - #147 - 09/26/2016 -->
                                                    <input type="text" class="txtbox form-control" id="txtcorrection" ng-model="KitCompModal.NewCorrection"
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 8}}" 
                                                        ng-disabled="KitCompModal.CauseConcernCorrectionItems_editRow.isEditEnabled_Correction == false" 
                                                        placeholder="{{'add_item'| translate }}" rel="Correction" ng-keydown="KitCompModal.addAndRemoveFromMultiSelect($event, 'Correction');" ng-focus="KitCompModal.formFieldJustGotFocus('Correction')" />
                                                </div>
                                            </div>
                                            
                                            
                                        </div>
                                        <div class="controls MTP30" id="Correction">
                                            <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Correction']}}"></i>
                                            <i class="fa fa-times"
                                                ng-click="KitCompModal.clearFields('Correction','array');"></i>
                                        </div>
                                    </div>  
                                    
                                     <!-- Start: Commented by pooja -->
                                 <!-- <div class="option_field">
                                         <div class="lable_fields" style="margin-top: 25px;">
                                            <span class="form_lable_icons text hiddenfield"> </span>
                                            <p> Service Need </p>
                                        </div> 
                                        <div class="form_fields MT">
                                            <div class="form-group large MB">
                                                <p> Concern </p>
                                                <div class="multiselect">
                                                    <div ng-repeat="value in KitCompModal.KitModal.Concern track by $index">
                                                        <span> 

                                                            {{value}} 
                                                            <i class="fa fa-times" ng-click="KitCompModal.removeFromMultiSelect($event, $index, 'Concern')"></i>
                                                        </span>
                                                    </div>
                                                    <input type="text" class="txtbox form-control" id="txtconcern" ng-model="KitCompModal.NewConcern" 
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 6}}" 
                                                        placeholder="Add Item" rel="Concern" ng-keydown="KitCompModal.addAndRemoveFromMultiSelect($event, 'Concern');" />
                                                </div>
                                            </div>
                                            <div class="controls1 controls" id="Concern">
                                                <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Concern']}}"></i>
                                                <i class="fa fa-times"
                                                    ng-click="KitCompModal.clearFields('Concern','array');"></i>
                                            </div>
                                        </div>

                                        <div class="form_fields MT">
                                            <div class="form-group large MB">
                                                <p> Cause </p>
                                                <div class="multiselect">
                                                    <div ng-repeat="value in KitCompModal.KitModal.Cause track by $index">
                                                        <span> 

                                                            {{value}} 
                                                            <i class="fa fa-times" ng-click="KitCompModal.removeFromMultiSelect($event, $index, 'Cause')"></i>
                                                        </span>
                                                    </div>
                                                    <input type="text" class="txtbox form-control" id="txtcause" ng-model="KitCompModal.NewCause" 
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 7}}" 
                                                        placeholder="Add Item" rel="Cause" ng-keydown="KitCompModal.addAndRemoveFromMultiSelect($event, 'Cause');" />
                                                </div>
                                            </div>

                                            <div class="controls1 controls" id="Cause">
                                                <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Cause']}}"></i>
                                                <i class="fa fa-times"
                                                    ng-click="KitCompModal.clearFields('Cause','array');"></i>
                                            </div>
                                        </div>

                                        <div class="form_fields MT">
                                            <div class="form-group large MB">
                                                <p> Correction </p>
                                                <div class="multiselect">
                                                    <div ng-repeat="value in KitCompModal.KitModal.Correction track by $index">
                                                        <span> 

                                                            {{value}} 
                                                            <i class="fa fa-times" ng-click="KitCompModal.removeFromMultiSelect($event, $index, 'Correction')"></i>
                                                        </span>
                                                    </div>
                                                    <input type="text" class="txtbox form-control" id="txtcorrection" ng-model="KitCompModal.NewCorrection"
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 8}}"  
                                                        placeholder="Add Item" rel="Correction" ng-keydown="KitCompModal.addAndRemoveFromMultiSelect($event, 'Correction');" />
                                                </div>
                                            </div>
                                            
                                            <div class="controls1 controls" id="Correction">
                                                <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Correction']}}"></i>
                                                <i class="fa fa-times"
                                                    ng-click="KitCompModal.clearFields('Correction','array');"></i>
                                            </div>
                                        </div>
                                    </div>  -->
                                     <!-- End: Commented by pooja -->
                                     <!-- End: updated by pooja -->
                                    
                                    <div class="clearfix"></div>
                                    
                                    
                                    <div class="option_field MT20">
                                        <div class="lable_fields">
                                            <span class="form_lable_icons text hiddenfield"> </span>
                                            <p>{{ 'transaction_type' | translate }}</p>
                                        </div>
                                        <div class="form_fields" ng-repeat="tt in KitCompModal.TransactionType">
                                            <div class="form-group large" ng-click="KitCompModal.updateTTModel($index, tt);">
                                                <label class="checkbox smschkbox"> 
                                                    <span class="chk_tick" 
                                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 9 + $index}}" 
                                                        ng-enter="KitCompModal.updateTTModel($index, tt);"
                                                        ng-class="{'chked': KitCompModal.isTransactionTypeSelected(tt)}" id="tt{{$index}}" > 
                                                        <i class="fa fa-check-square chksqure"></i>

                                                    </span>
                                                    <p style="cursor: pointer;">{{tt.TTName}}</p>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    
                                      <!-- Start: updated by pooja -->
                                     <div class="option_field MT20">
                                        <div class="lable_fields" style="margin-top: 25px;">
                                            <!-- <span class="form_lable_icons text">100 </span> -->
                                             <span class="form_lable_icons text" style="background: none;"></span>
                                            <p>{{ 'Applies_to' | translate }}</p>
                                        </div>
                                    </div>
                                    
                                    
                                    <div class="option_field">
                                        <div class="form_fields">
                                            <div class="form-group large MB">
                                             <p> {{ 'Make_Object_Display_Label' | translate }} </p>
                                                 <div class="dropdown selectDropbox">
                                                    <input type="text" class="form-control " placeholder="{{'Label_Search'| translate }}" rel="kitAppliesToMake"
                                                            ng-model="KitCompModal.FilterSearchMake"  
                                                            ng-keyup="KitCompModal.ChangeSeletedUnitMake($event)"  
                                                            ng-focus="KitCompModal.getUnitmakeList($event)" 
                                                            ng-blur ="KitCompModal.saveUnitMake($event)"
                                                            ng-class="{'redborder' :  KitCompModal.KitValidationModel['Make'].isError == true}"
                                                            />
                                                    <ul class="dropdown-menu keep_open" style="overflow: visible;">  
                                                        <div class="column_fixHeight" id="TypeFixedHeight"> 
                                                        <li ng-if="(KitCompModal.UnitMake | filter:KitCompModal.FilterSearchMake).length == 0" class="noMatchesFound">
                                                            <span>{{ 'No_matches' | translate }}</span>
                                                        </li>
                                                        <li ng-if="(KitCompModal.UnitMake | filter:KitCompModall.FilterSearchMake).length > 0" 
                                                            ng-repeat="make in KitCompModal.filteredItemsMake = (KitCompModal.UnitMake | CustomMakeSort : KitCompModal.FilterSearchMake : 'make' )"
                                                            ng-class="{'angucomplete-selected-row': $index == KitCompModal.CurrentIndexMake }"   
                                                            ng-mousedown="KitCompModal.changeUnitMake(make,$event)" >
                                                            <a >{{make.UnitMakeName}}</a> <!-- ng-if="filteredItemsMake.length > 0" -->
                                                        </li> 
                                                        </div> 
                                                    </ul>
                                                 </div>
                                                </div>
                                            </div>
                                              <div class="controls MTP30"  id="kitAppliesToMake">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Make']}}"></i>
                                                    <i class="fa fa-times"
                                                    ng-click="KitCompModal.clearFields('SelectedMake','lookup');"></i>
                                             </div>
                                        </div>  
                                
                                
                                <div class="option_field">
                                        <div class="form_fields">
                                            <div class="form-group large MB">
                                              <p> {{ Custom_Label_Model | translate }} </p>
                                                 <div class="dropdown selectDropbox">
                                                    <input type="text" class="form-control " placeholder="{{'Label_Search'| translate }}" rel="KitUnitMainModelId"
                                                             ng-model="KitCompModal.FilterSearchUnitModel"  
                                                    ng-keyup="KitCompModal.ChangeSeletedUnitModel($event)"  
                                                    ng-focus="KitCompModal.getUnitModelList($event)" 
                                                    ng-blur ="KitCompModal.saveUnitModel($event)"
                                                    ng-class="{'redborder' : KitCompModal.KitValidationModel['Model'].isError == true}"
                                                            />
                                                    <ul class="dropdown-menu keep_open" style="overflow: visible;"> 
                                                        <div class="right-inner-addon" style="margin: 10px;">
                                                        </div>
                                                        <div class="column_fixHeight" id="TypeFixedHeight">
                                                        <li ng-if="(KitCompModal.UnitModel | filter:KitCompModal.FilterSearchUnitModel).length == 0" class="noMatchesFound">
                                                            <span>{{ 'No_matches' | translate }}</span></li><!-- Added by kajal - 02/20/2017 -->
                                                        <li ng-if="(KitCompModal.UnitModel | filter:KitCompModal.FilterSearchUnitModel).length > 0"
                                                            ng-repeat="model in KitCompModal.filteredItemsUnitModel =(KitCompModal.UnitModel | CustomMakeSort : KitCompModal.FilterSearchUnitModel : 'model')"  
                                                            ng-class="{'angucomplete-selected-row': $index == KitCompModal.CurrentIndexUnitModel}" 
                                                            ng-mousedown="KitCompModal.changeUnitmodel(model,$event)" >
                                                            <a>{{model.UnitModelName}}</a> 
                                                        </li>   
                                                       </div> 
                                                </ul>
                                                 </div>
                                                </div>
                                            </div>
                                              <div class="controls MTP30"  id="KitUnitMainModelId">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Make']}}"></i>
                                                    <i class="fa fa-times"
                                                    ng-click="KitCompModal.clearFields('SelectedModel','lookup');"></i>
                                             </div>
                                        </div>
                                
                                     <div class="option_field">
                                        <div class="form_fields">
                                            <div class="form-group large MB">
                                              <p> {{ Custom_Label_Sub_Model | translate }} </p>
                                                 <div class="dropdown selectDropbox">
                                                    <input type="text" class="form-control " placeholder="{{'Label_Search'| translate }}" rel="KitUnitMainSubModelId"
                                                             ng-model="KitCompModal.FilterSearchUnitSubModel"  
                                                    ng-keyup="KitCompModal.ChangeSeletedUnitSubModel($event)" 
                                                    ng-focus="KitCompModal.getUnitSubModelList($event)" 
                                                    ng-blur ="KitCompModal.saveUnitSubModel($event)"
                                                            />
                                                    <ul class="dropdown-menu keep_open" style="overflow: visible;"> 
                                                        <div class="right-inner-addon" style="margin: 10px;">
                                                        </div>  
                                                        <div class="column_fixHeight" id="TypeFixedHeight">
                                                        <li ng-if="(KitCompModal.UnitSubModel | filter:KitCompModal.FilterSearchUnitSubModel).length == 0" class="noMatchesFound">
                                                            <span>{{ 'No_matches' | translate }}</span></li><!-- Added by kajal - 02/20/2017 -->
                                                        <li ng-if="(KitCompModal.UnitSubModel | filter:KitCompModal.FilterSearchUnitSubModel).length > 0"
                                                            ng-repeat="model in KitCompModal.filteredItemsUnitSubModel = (KitCompModal.UnitSubModel | CustomMakeSort : KitCompModal.FilterSearchUnitSubModel : 'submodel')" 
                                                            ng-class="{'angucomplete-selected-row': $index == KitCompModal.CurrentIndexUnitSubModel}" 
                                                            ng-mousedown="KitCompModal.changeUnitSubmodel(model,$event)" >
                                                            <a  >{{ model.SubModelName}}</a> 
                                                        </li> 
                                                       </div> 
                                                </ul>
                                                 </div>
                                                </div>
                                            </div>
                                              <div class="controls MTP30"  id="KitUnitMainSubModelId">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip" title="{{KitCompModal.helpText['Make']}}"></i>
                                                    <i class="fa fa-times"
                                                    ng-click="KitCompModal.clearFields('Selectedsubmodel','lookup');"></i>
                                             </div>
                                        </div>
                                    <!-- End: Commented by pooja -->
                                     <!-- End: updated by pooja -->
                                </form>
                            </div>
                                    
                            
                            <div class="right_heading_container col-md-12">
                                <div class="savecancle_btncntnr">
                                    <button type="button" id="closemodal" class="btn btn-default grayBtn"
                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 15}}" 
                                        ng-click="KitCompModal.closePopup()"> {{ 'Cancel_Label' | translate }} </button>
                                    <button type="button" class="btn btn-default greenBtn" 
                                        ng-attr-tabindex="{{KitCompModal.tabIndexValue + 16}}" 
                                        ng-disabled='KitCompModal.disableSaveBtn'
                                        ng-click="KitCompModal.SaveKitForm()"> {{ 'Save_Label' | translate }} </button><!-- ng-disabled: Added by Pooja 21 Jan. 2017 -->
                                </div>
                            </div>
                        </div>
                        <!--  new kit user End here -->

                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
</apex:page>
