<apex:page standardStylesheets="false" showChat="false" showHeader="false" sidebar="false" docType="html-5.0"  controller="GlobalController">
	    <c:InvoiceInfoFlyout />
	    <c:VendorInfo /> 
	    <c:PartPopUpOnVendorOrder />
        <div id="NewVendorInvoicingLoadingIconContainerID" class="NewVendorInvoicingLoadingIconContainer pageloadDiv">
		</div>  
        <div>
         	<route-loading-indicator></route-loading-indicator>
         	<div ng-cloak="ng-cloak">
				<!--  content start here -->
                <div class="LoadingDiv" ng-show="VORModel.isLoading">
                    <div class="loadingIconContainer">
                        <c:BPLoading />
                    </div>
                </div>
       <div class="content VOInvoicingLeftHeader">
      
            <!-- side panel start here -->
             <div class="col-lg-2 col-md-2 sidePanel">
                 <div class="orderNumber row">
                        <span>{{ 'Label_Order' | translate }} #:  
                        	<span>{{VORModel.VIHeader.VIHeaderNumber}}</span>
                        </span>
                 </div>
                 <div class="sidepaneluserinfo row">
                        <div class="userNameblock">
                            <p class="vendorName"> 
                                <a href="" ng-mouseover="VORModel.showVendorInfoOverlay($event, VORModel.VIHeader.VendorId);" 
                                    ng-mouseleave="VORModel.hideVendorInfoOverlay();" id="CO_workflow_sidepanel_cust_name_link">
                                    {{VORModel.VIHeader.VendorName}}</a>
                            </p>
                            <span class="userStatus">{{VORModel.VIHeader.Status}}</span>
                        </div>
                  </div>
                  
                <div class="row statusRow">
                </div> 
                <!-- left panel links start here -->
                <div class="leftPanelLinks">
                    <a class="row T10 mainSectionLink" ng-class="{'active' : VORModel.activeSidepanelink =='#VOI_Info_Block' , 'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}" 
                       href="#VOI_Info_Block" ng-click="VORModel.sidepanelLink($event, 'Info')" ><span class="alphabetLetter">{{VORModel.LeftSideHeadingLables.Info}}</span>{{ 'Page_Section_Info' | translate }}
                    </a>
                    <a class="row T10 subSectionLink" href="#VOI_Info_Block" ng-click="VORModel.sidepanelLink($event, 'Info')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">
                        <span class="alphabetLetter"></span>{{ 'Label_General' | translate }}
                    </a>
                    <a class="row T10 subSectionLink" href="#VOI_Receivinig_Block" ng-click="VORModel.sidepanelLink($event, 'Info')" ng-if="VORModel.VIHeader.Status != 'Invoiced'" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">
                        <span class="alphabetLetter"></span>{{ 'Label_Receivings' | translate }}
                    </a>
                    <div ng-if="VORModel.VIHeader.VendorId !=null">
                        <a class="row T10 mainSectionLink" ng-class="{'active' : VORModel.activeSidepanelink =='#VOI_invoicing_Block' , 'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}" 
                           href="#VOI_invoicing_Block" ng-click="VORModel.sidepanelLink($event, 'Invoicing')" >
                            <span class="alphabetLetter">{{VORModel.LeftSideHeadingLables.Invoice}}</span>{{ 'Label_Invoicing' | translate }}
                        </a>
                        <a class="row T10 subSectionLink" href="#VOI_Items_Block" ng-show="VORModel.VIGroupList.length != 0" ng-click="VORModel.sidepanelLink($event, 'Invoicing')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">
                            <span class="alphabetLetter"></span>{{ 'Items' | translate }}
                        </a>
                        <a class="row T10 subSectionLink" href="#Other_Charges_Block" ng-click="VORModel.sidepanelLink($event, 'Invoicing')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">
                            <span class="alphabetLetter"></span>{{ 'Other_charges' | translate }}
                        </a> 
                        <a class="row T10 mainSectionLink" ng-class="{'active' : VORModel.activeSidepanelink =='#VOI_Finalize_Block' , 'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}" 
                            href="#VOI_Finalize_Block" ng-click="VORModel.sidepanelLink($event, 'FinalizeOrder')"
                            ng-show="VORModel.VIHeader.Status != 'Invoiced' && VendorInvoiceNumber != undefined && VendorInvoiceNumber != '' && VendorInvoiceNumber != null" >
                            <span class="alphabetLetter">{{VORModel.LeftSideHeadingLables.Finalize}}</span>{{ 'Finalize' | translate }}
                        </a>
                      </div>    
                                     
                </div>
                <!-- left panel links end here -->
                 
                 
                 
                    <!-- Section Totals -->
                    <div class="sideBarTotals">
                      <div class="C1 orderleftPanelLinks">
                        <div class="ordertotal">
                        <a class= "T10 subSectionLink " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">{{ 'Items' | translate }}</a>
                        <a class= "T10 subSectionLink text-right" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">{{VORModel.ItemsTotal | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag></a>
                        </div>
                        <div class="ordertotal ">
                        <a class= "T10 subSectionLink ordertotalPA1" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">{{ 'Other_charges' | translate }}</a>
                        <a class= "T10 subSectionLink text-right ordertotalPA2" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">{{VORModel.TotalOtherCharges | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag></a>
                        </div> 
                      <div class="ordertotal">
                        <a class= "T10 subSectionLink " ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">{{ 'Vendor_Invoicing_Taxes' | translate }}</a>
                        <a class= "T10 subSectionLink text-right" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">{{VORModel.Taxes | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag></a>
                      </div>
                        
                     </div>
                      <div class="mainSectionLink totalDue C1">
                        <a class="T2" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }">{{ 'Vendor_Invoicing_Total_Due' | translate }}:</a>
                        <a class="T2 text-right" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view'] }"> {{VORModel.TotalWithTax  | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag></a>
                     </div>
                    </div>
                  
                 
             </div>
             <!-- side panel end here -->
             <!-- center div start here -->
             
             
                 <div class="col-lg-10 col-md-10 mainSection" >
                     <div class=" sectionHeader row fixedRow">
                        <div class="col-lg-6 col-md-6" ng-show="VORModel.activeSidepanelink =='#VOI_Info_Block'">
                            <div class="fixedHeaderText">
                                <span class="headerlabel">
                                    <i class="fa fa-angle-right" ng-show="!VORModel.displaySections.Info"
                                        ng-Click="VORModel.showSections('Info')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}">
                                    </i> 
                                    <i class="fa fa-angle-down" 
                                        ng-show="VORModel.displaySections.Info"
                                        ng-Click="VORModel.showSections('Info')">
                                    </i> 
                                    <span class="divider">|</span>
                                    <span class = "headdingFirstText">{{VORModel.LeftSideHeadingLables.Info}}</span>
                                    <span class="T2">{{ 'Page_Section_Info' | translate }}</span>
                                </span>
                                <span class="ActionIcons pull-left"
                                	ng-if="VORModel.showDeleteInvoicingLink()">
		                        	<div class="dropdown selectDropdown checkboxDropdown">
		                            	<button class="btn dropdown-toggle" type="button" data-toggle="dropdown" ng-class ="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['create/modify']}">{{ 'Label_Actions' | translate }}
		                                	<span class="caret"></span>
		                            	</button>
		                                <ul class="dropdown-menu" ng-if ="GroupOnlyPermissions['Vendor invoicing']['create/modify']">
		                                	<li>
		                                       	<a ng-click="VORModel.vendorInvoicingDelete()">{{ 'Delete_invoicing' | translate }}</a>
		                                   	</li>
		                               	</ul>
		                       		</div>
		                   		</span> 
                            </div>
                        </div>
                        <div >
                            <div class="col-lg-6 col-md-6" ng-show="VORModel.activeSidepanelink =='#VOI_invoicing_Block'">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                    <i class="fa fa-angle-right" 
                                        ng-show="!VORModel.displaySections.Invoicing"
                                        ng-Click="VORModel.showSections('Invoicing')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}">
                                    </i> 
                                    <i class="fa fa-angle-down" 
                                        ng-show="VORModel.displaySections.Invoicing"
                                        ng-Click="VORModel.showSections('Invoicing')">
                                    </i> 
                                    <span class="divider">|</span>
                                    <span class = "headdingFirstText">{{ 'B' | translate }}</span>
                                    <span class="T2"> {{ 'Label_Invoicing' | translate }}</span>
                                    </span>
                                    <span class="T3  pull-right total">
                                        <a id="CO_Merchandise_total_price_row_h3_a" >{{VORModel.Total | currency}} </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div ng-show="VORModel.VIHeader.Status != 'Invoiced' && VendorInvoiceNumber != undefined && VendorInvoiceNumber != '' && VendorInvoiceNumber != null">
                            <div class="col-lg-6 col-md-6" ng-show="VORModel.activeSidepanelink =='#VOI_Finalize_Block'">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                    <i class="fa fa-angle-right"
                                        ng-show="!VORModel.displaySections.FinalizeOrder"
                                        ng-Click="VORModel.showSections('FinalizeOrder')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}">
                                    </i> 
                                    <i class="fa fa-angle-down" 
                                        ng-show="VORModel.displaySections.FinalizeOrder"
                                        ng-Click="VORModel.showSections('FinalizeOrder')">
                                    </i> 
                                    <span class="divider">|</span>
                                    <span class = "headdingFirstText">{{ 'C' | translate }}</span>
                                    <span class="T2">{{ 'Finalize' | translate }}</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        
                        
                        <div class="col-lg-6 col-md-6 fixedContent">
                            <i class="fa fa-refresh fa-2x fa-fw pull-left" ng-class="{'fa-spin' : VORModel.isrefresh}"
                                    ng-click="VORModel.refreshVendorOrder();">
                            </i>
                            <div class="col-lg-10 col-md-9 searchToAdd pull-left">
                                <div class="input-group" ng-class="{'activeSearchDiv' : VORModel.searchDivActive}">
                                    <div class="input-group-btn">
                                        <button type="button" class="btn C5 LabelBtn">
                                            <span class="T5 text-uppercase">{{ 'Label_To' | translate }}:</span>
                                            <span class="selectedItem_btn_span">{{VORModel.selectedItem}}</span>
                                        </button>
                                        <button type="button" class="btn C5 dropdown-toggle caretBtn" ng-disabled="VORModel.VIHeader.Status == 'Invoiced' || !GroupOnlyPermissions['Vendor invoicing']['create/modify']" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="caret"></span>
                                        <span class="sr-only">{{ 'Label_Toggle_Dropdown' | translate }}</span>
                                        </button>
                                        <ul class="dropdown-menu">
                                        
                                            <li><a href="#VOI_Info_Block" ng-click="VORModel.dropDownItem($event, 'Info')">{{ 'Page_Section_Info' | translate }}</a></li>
                                            <li ng-if="VORModel.VIHeader.VendorId !=null"><a href="#VOI_invoicing_Block" ng-click="VORModel.dropDownItem($event, '')">{{ 'Label_Invoicing' | translate }}</a></li>
                                            <li ng-if="VORModel.VIHeader.VendorId !=null"><a href="#VOI_Finalize_Block" ng-show="VORModel.VIHeader.Status != 'Invoiced' && VORModel.VIHeader.InvoiceNumber != undefined && VORModel.VIHeader.InvoiceNumber != '' && VORModel.VIHeader.InvoiceNumber != null" ng-click="VORModel.dropDownItem($event, 'Finalize Order')">{{ 'Finalize' | translate }}</a></li>
                                        </ul>
                                    </div>
                                    
                                    <div class="inner-addon right-addon neVendorOrderAutocomplete-container" ng-class="{'disabledSearchToAddElement' : VORModel.VIHeader.Status == 'Invoiced' || !GroupOnlyPermissions['Vendor invoicing']['create/modify'] }">
                                        <i class="fa fa-search fa-flip-horizontal"></i>
                                     <c:SearchToAddHtml />
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                     </div>
                       <div class="contentWrapper">
                         <div id="VOI_Info_Block"  ng-show="VORModel.displaySections.Info">
                             <div class="main_section row VOI_Info_Block main_section_margin_top">
                            <div class="row rowGeneral" >
                            <div class="content ">
                            <div class="col-lg-12 col-md-12 Pl24 MB48" id="VOI_InfoGeneral_Block" >
                                <p class="actionRow T2">
                                    <span class="sectionText">{{ 'Label_General' | translate }}</span>
                                    <!-- <span class="actionText">{{ 'Label_Actions' | translate }}</span> -->
                                    <span class="ActionIcons">
                                    <!-- <i class="fa fa-th"></i> -->
                                    	<i class="fa fa-question-circle" data-toggle="tooltip" title="Info General Section"></i>
                                    </span> 
                                </p>
                               <div class="col-lg-7 col-md-7 Plr12">
                                  <p class="T3 MB24 F12 FC2">{{ 'Vendor_Object_Display_Label' | translate }}</p>
                                  <div class="col-md-6 Plr0">
                                     <div class="col-lg-8 col-md-7 PLU MB12 ">
                                         <div ng-if="VORModel.VIHeader.VendorId==null" >
                                            <span class="T1_SubHeading"  >
                                                <a href="" ng-click="VORModel.RelatedList_addAction($event, 'Vendor')" id="VI_workflow_sidepanel_add_cust_link">{{ 'Label_Add' | translate }} {{ 'Vendor_Object_Display_Label' | translate }}</a><!-- ng-click="AddToSearch('Vendor')" -->
                                            </span>
                                         </div> 
                                         <div  ng-if="VORModel.VIHeader.VendorId !=null">
                                            <p class="T1 " > 
                                                      <a href="" ng-mouseover="VORModel.showVendorInfoOverlay($event, VORModel.VIHeader.VendorId);" 
                                                        ng-mouseleave="VORModel.hideVendorInfoOverlay();" id="CO_workflow_sidepanel_cust_name_link">
                                                {{VORModel.VIHeader.VendorName}}
                                                </a> 
                                            </p>
                                        </div>
                                    </div>
                                     
                                   <div class="col-md-12 Plr0 MB24 ">
										<div class="generalInfoData">
											<label class="T3">{{ 'Label_Status' | translate }}</label>
										</div>
										<div class="mycustvalue viStatus">
											<span class="FC10 T3 ">
												{{VORModel.VIHeader.Status}}
											</span>
										</div>
									</div>
                                </div>

                                <div class="col-md-12  Plr0 dates-container order-type-container">
                                    <span class="T3 col-md-12 Plr0 MB12" ng-if="VORModel.VIHeader">{{ 'Label_Dates' | translate }}</span>
                                    <div class="col-md-10 Plr0 MB6 order-type-container" ng-if = "VORModel.VIHeader.CreatedDate != '' && VORModel.VIHeader.CreatedDate != null">
                                        <div class="date-section">
                                            <span class="col-md-4 T7 Plr0">{{ 'Label_Created' | translate }} {{ 'Label_Date' | translate }}:</span>
                                            <span class="col-md-7 T7 Plr0">{{VORModel.VIHeader.CreatedDate}}</span>
                                        </div>
                                        <div class="username-section">
                                            <span class="col-md-4 T7 Plr0 field-label">By:</span>
                                            <span class="col-md-7 T7 Plr0">{{VORModel.VIHeader.CreatedBy}}</span>
                                        </div>
                                    </div> 
                                    <div class="col-md-10 Plr0 MB6 order-type-container" ng-if = "VORModel.VIHeader.LastModifiedDate != '' && VORModel.VIHeader.LastModifiedDate != null">
                                        <div class="date-section">
                                            <span class="col-md-4 T7 Plr0">{{ 'Label_Modified' | translate }}:</span>
                                            <span class="col-md-7 T7 Plr0">{{VORModel.VIHeader.LastModifiedDate}}</span>
                                        </div>
                                        <div class="username-section">
                                            <span class="col-md-4 T7 Plr0 field-label">By:</span>
                                            <span class="col-md-7 T7 Plr0">{{VORModel.VIHeader.LastModifiedBy}}</span>
                                        </div>
                                    </div>
                                    <div class="col-md-10 Plr0 MB6 order-type-container" ng-if = "VORModel.VIHeader.ClosedInvoiceDate != '' && VORModel.VIHeader.ClosedInvoiceDate != null">
                                        <span class="col-md-4 T7 Plr0">{{ 'Date_Finalized' | translate }}:</span>
                                        <span class="col-md-7 T7 Plr0 closed-invoice-date">{{VORModel.VIHeader.ClosedInvoiceDate}}</span>
                                    </div> 
                                </div>

                                <div class="col-md-6 Plr0 ">
                                   <div class = "col-md-12 Plr0 Mrg20">
                                            <div class="generalInfoData">
                                                 <label class="T7 required_field">{{ 'Invoice_Object_Display_Label' | translate }}</label>
                                            </div>
                                             <div class="mycustvalue">
                                              <input type="text" class="form-control" id="InvoiceNumber" placeholder="{{ 'Invoice_Object_Display_Label' | translate }}"
                                                    maxlength="21" ng-model="VORModel.VIHeader.InvoiceNumber" rel="InvoiceNumberId"
                                                    ng-class="{'redborder' : VORModel.VendorOrderReceivingFormValidationModal['InvoiceNumber']['isError'] == true}" 
                                                    data-toggle="tooltip" title="{{VORModel.VIHeader['InvoiceNumber']['ErrorMessage']}}"
                                                    ng-disabled="VORModel.VIHeader.Status == 'Invoiced' || VORModel.VIHeader.VendorId ==null || !GroupOnlyPermissions['Vendor invoicing']['create/modify']"
                                                    ng-blur="VORModel.updateVIHeaderDetails()"/>
                                              </div>
                                         </div>
                                    <div class = "col-md-12 Plr0 Mrg20">
                                            <div class="generalInfoData">
                                                 <label class="T7 required_field">{{ 'Invoice_Page_Invoice_Date' | translate }}</label>
                                            </div>
                                             <div class="mycustvalue">
                                                	 <input type="text" class="date-picker" id="InvoiceDate" placeholder="{{ 'Invoice_Page_Invoice_Date' | translate }}" 
                                                      ng-model="VORModel.VIHeader.InvoiceDate" date-format="VORModel.dateFormat"  
                                                      ng-change="VORModel.updateVIHeaderDetails('{{VORModel.VIHeader.InvoiceDate}}','InvoiceDate')"
                                                      ng-class="{'redborder' : VORModel.VendorOrderReceivingFormValidationModal['InvoiceDate']['isError'] == true}"
                                                      ng-disabled="VORModel.VIHeader.Status == 'Invoiced' || VORModel.VIHeader.VendorId ==null || !GroupOnlyPermissions['Vendor invoicing']['create/modify']"
                                                      end-date = "VORModel.VOI_InvoiceDate.maxDate" datepicker = "datepicker" autocomplete="off" readonly = "readonly" 
                                                                     />
                                                	<!-- End: Ticket#2282: Commented and Added By Pooja 16 Jun 2017 -->
                                              </div>
                                         </div>
                                  </div>
                               </div>
                                <div class="col-lg-12 col-md-12 Plr12 MT18" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor">
                                    <c:FXWarningInfoBanner currencyCode="{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}" formattedFXCurrencyCode="{{VORModel.VIHeader.FXCurrencyDetails.FormattedFXCurrencyCode}}" conversionRateLabel="{{(VORModel.VIHeader.Status == 'Invoiced') ? ('Conversion_rate_when_finalized' | translate) : ('Current_conversion_rate' | translate)}}" ExchangeRate="{{VORModel.formattedConversionRate}}" sentence_1="{{(VORModel.VIHeader.Status == 'Invoiced') ? ('All_costs_are_in_the_currency_of_the_vendor' | translate) : ('All_cost_on_this_vendor_invoice_must_be_in_the_currency_of_the_vendor' | translate)}}" sentence_2="{{(VORModel.VIHeader.Status == 'Invoiced') ? ('When_finalized_they_were_converted_to_your_local_currency_in_inventory_using_this_conversion_rate' | translate) : ('When_finalized_any_updated_to_your_inventory_will_be_converted_to_your_local_currency' | translate)}}" />
                                </div>
                               <div class="col-lg-5 col-md-5 Plr12">
                                     </div>
                                        </div>
                            
                           </div> 
                            
                            <div class="col-lg-12 col-md-12 T3 addnewItem " id="CO_notanyitemadded" 
                                   ng-if="VORModel.VIHeader.VendorId ==null">
                                 <a id="CO_notanyitemadded" ng-click="VORModel.RelatedList_addAction($event, 'Vendor')">
                                    {{ 'Label_Add' | translate }} {{ 'New_Label' | translate }} {{ 'Vendor_Object_Display_Label' | translate }}.<!--  You haven't added anything yet! Add something. -->
                                 </a>
                            </div>
                                 
                            </div>
                        </div>
                         <div class="main_section_COU row" ng-show="VORModel.VIHeader.VendorId != null" ng-if="VORModel.VIHeader.Status != 'Invoiced'">
                                 <div class="main_section_COU_Header row" id="VOI_Receivinig_Block">
                                    <p class="actionRow T2">
                                        <span class="sectionText">{{ 'Label_Receivings' | translate }} 
                                        </span>
                                        <span class="ActionIcons">
                                            <i class="fa fa-question-circle" data-toggle="tooltip" title="Info Receiving Section"></i>
                                        </span> 
                                     </p>
                                   </div>
                                   <div class="gid_container T6 VOR_Vendor_Received_Block_grid_container_Empty_Div1_class" id="VOR_Vendor_Received_Block_grid_container_Empty_Div" 
                                        ng-show="VORModel.VRHeaderList.length == 0" >
                                        {{ 'Label_No_Records_Found' | translate }}
                                    </div>
                                   <div class="gid_container_Customer" id="VI_Receivings_block_grid_container" ng-show="VORModel.VRHeaderList.length != 0">
                                        <table class="table" id="VendorOrderInvoicing_Receivings_Grid">
                                            <col width="1%"  />
                                            <col width="4%"  />
                                            <col width = "5%" />
                                            <col width="20%" />
                                            <col width="10%" />
                                            <col width="15%" />
                                            <col width="10%" />
                                            <col width="10%" />
                                            <col width="14%" />
                                            <col width="1%" />
                                            <thead>
                                                <tr class="tableHeader T3 C2">
                                                    <th></th>
                                                    <th></th>
                                                   <th></th>
                                                   <th class="th_cursor_style text-uppercase"  ng-click="VORModel.Receiving_PageSortControlsAction();">
                                                        <i class="fa fa-sort-asc" ng-show="VORModel.receivingPageSortAttrsJSON.Sorting[0].SortDirection == 'ASC'"/>
                                                        <i class="fa fa-sort-desc" ng-show="VORModel.receivingPageSortAttrsJSON.Sorting[0].SortDirection == 'DESC'"/>
                                                        <i class="fa fa-sort" ng-show="VORModel.receivingPageSortAttrsJSON.Sorting[0].SortDirection == ''"/>
                                                    {{ 'Label_Packaging_Slip' | translate }} #
                                                </th>
                                                <th class="text-center text-uppercase">{{ 'Label_Order' | translate }} # </th>
                                                <th class="text-center text-uppercase">{{ 'Label_Date' | translate }}</th>
                                                <th class ="text-center text-uppercase">{{ 'Label_Line' | translate }} {{ 'Items' | translate }}</th>
                                                <th class ="text-center text-uppercase">{{ 'Label_Total' | translate }} {{ 'Label_Cost' | translate }}</th>
                                                <th class ="text-uppercase">{{ 'Label_Received' | translate }} {{ 'Label_By' | translate }}</th>
                                                <th></th>
                                                </tr>       
                                            </thead>
                                             <tbody ng-repeat="vRHeader in VORModel.VRHeaderList" ng-init="Receivingsindex = $index" class="parentBody">
                                                    <tr id="rowGroup{{$index}}" rel="VOR_Vendor_Received_row{{$index}}_edit" 
                                                        ng-class-even="'C2'" >
                                                        <td style="background: #fff"></td>
                                                        <td class="HG50" ></td>
                                                        <td style="padding-top:12px; padding-bottom:12px;">
                                                            <div class="form-group small" >
                                                                <label class="checkbox">
                                                                
                                                                <span class="chk_tick" ng-attr-tabindex="100" ng-class="{'chked' : vRHeader.InProgressVIHeaderId !=null,'permissionDisabledChk': !GroupOnlyPermissions['Vendor invoicing']['create/modify']}" ng-click="VORModel.onClickSelectVO($event, $index, vRHeader.VRHeaderId);">
                                                                    <i class="fa fa-check-square chksqure"></i>
                                                                </span>
                                                                </label>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <a ng-mouseover="VORModel.showInvoiceDetail(vRHeader.VRHeaderId,$event)"
                                                            ng-mouseleave="VORModel.hideInvoiceDetail()">
                                                            {{vRHeader.PackingSlipNumber}}
                                                         </a>
    
                                                    </td>
                                                    <td class="text-center">{{vRHeader.OrderType}}</td>
                                                    <td class="text-center">{{vRHeader.FinalizeDate}}</td>
                                                    <td class ="text-center">{{vRHeader.TotalNumberOfLineItems}}</td>
                                                    <td class ="text-center">{{vRHeader.TotalCost | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag></td>
                                                    <td>{{vRHeader.ReceivedByName}}</td>
                                                    <td style="background: #fff"></td>
                                                 </tr>
                                            </tbody>
                                        
                                        </table>
                                   </div>
                                   
                                   
                                  
                                    <div class="row pagination_container" id="Invoicing_For_Vendor_Orders_Pagination" 
                                       ng-if="VORModel.totalVendorOrderInvoicing != undefined && VORModel.totalVendorOrderInvoicing !=0"  >
                                        <list-pagination id-value = "Invoicing_For_Vendor_Orders_Pagination_" 
                                                 total-records-length = "VORModel.totalVendorOrderInvoicing"
                                                 page-size = "VORModel.receivingPageSortAttrsJSON.PageSize"
                                                 current-page = "VORModel.receivingPageSortAttrsJSON.CurrentPage"
                                                 changes-count = "VORModel.receivingPageSortAttrsJSON.ChangesCount"
                                                 pagination-control-method = "VORModel.Receiving_paginationControlsAction" />
                                    </div>
                               </div>
                         </div>
                         
                        <div ng-if="VORModel.VIHeader.VendorId !=null"> 
                        <div class="sectionHeader row" style="margin-top: 48px;">
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                        <i class="fa fa-angle-right"  ng-show="!VORModel.displaySections.Invoicing"
                                           ng-Click="VORModel.showSections('Invoicing')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}">
                                        </i> 
                                        <i class="fa fa-angle-down" 
                                           ng-show="VORModel.displaySections.Invoicing"
                                           ng-Click="VORModel.showSections('Invoicing')">
                                        </i> 
                                        <span class="divider">|</span>
                                        <span class = "headdingFirstText">{{ 'B' | translate }}</span>
                                        <span class="T2">{{ 'Label_Invoicing' | translate }}</span>
                                     </span>
                                     <span class="T3  pull-right total">
                                        <a id="CO_Merchandise_total_price_row_h3_a" >{{VORModel.Total | currency}} </a>
                                    </span> 
                                </div>
                            </div>
                        </div>
                        
                        <div id="VOI_invoicing_Block">
                            <div id="VOI_Items_Block" ng-show="VORModel.VIGroupList.length != 0">
                              <div class="main_section_COU row"  ng-show="VORModel.displaySections.Invoicing" >
                                 <div class="main_section_COU_Header row" >
                                    <p class="actionRow T2">
                                        <span class="sectionText">{{ 'Items' | translate }}
                                        </span>
                                     </p>
                                   </div>
                                   
                                   <div class="gid_container T6 VOR_Vendor_Received_Block_grid_container_Empty_Div1_class" id="VOR_Vendor_Received_Block_grid_container_Empty_Div1" 
                                        ng-show="VORModel.VIGroupList.length == 0">
                                        {{ 'Label_No_Records_Found' | translate }}
                                    </div>
                                   <div class="gid_container_Customer" id="VO_Order_block_grid_container" ng-show="VORModel.VIGroupList.length != 0">
                                    <div class="gid_container_Customer_headerWrapper">
                                        <div class="gid_container_Customer_headerContainer1 linetext" >
                                               <div ><span>{{ 'Label_Receiving' | translate }}</span> </div>
                                        </div>
                                        <div class="gid_container_Customer_headerContainer2 linetext" >
                                                <div ><span>{{ 'Vendor_Object_Display_Label' | translate }} {{ 'Label_Invoicing' | translate }}</span> </div>
                                        </div>
                                    </div> 
                                    <div class = "VI-backdrop" ng-click = "VORModel.hideBackDrop()"></div>
                                        <table class="table" id="VendorOrderItem_Grid">
                                            <col width="1%"  />
                                            <col width="4%"  />
                                            <col width="30%"  />
                                            <col width="16%"  />
                                            <col width="5%"  />
                                            <col width="8%" />
                                            <col width="5%"  />
                                            <col width="8%"  />
                                            <col width="8%"  />
                                            <col width="8%"  />
                                            <col width="1%"  />
                                            <thead>
                                                <tr class="tableHeader T3 C2">
                                                    <th></th>
                                                    <th></th>
                                                    <th ng-click="VORModel.GroupItems_PageSortControlsAction();" class="text-uppercase">
                                                            <i class="fa fa-sort-asc" ng-show="VORModel.groupItemsPageSortAttrsJSON.Sorting[0].SortDirection == 'ASC'"/>
                                                            <i class="fa fa-sort-desc" ng-show="VORModel.groupItemsPageSortAttrsJSON.Sorting[0].SortDirection == 'DESC'"/>
                                                            <i class="fa fa-sort" ng-show="VORModel.groupItemsPageSortAttrsJSON.Sorting[0].SortDirection == ''"/>
                                                            {{ 'Part_Object_Item_Description' | translate }}
                                                    </th>
                                                    <th class="text-center">{{ 'Label_Packaging_Slip' | translate }}#</th>
                                                    <th class="text-center">{{ 'Label_Quantity' | translate }}</th>
                                                    <th class="text-center">{{ 'Label_Cost' | translate }}</th>
                                                    <th class="text-center">{{ 'Label_Quantity' | translate }}</th>
                                                    <th class="text-center">{{ 'Label_Cost' | translate }}</th>
                                                    <th class="text-center">{{ 'Discount' | translate }}</th>
                                                    <th class="text-center">{{ 'Label_Subtotal' | translate }}</th>
                                                    <th></th>
                                                </tr>       
                                            </thead>
                                            <tbody ng-repeat="VIGroup in  VORModel.VIGroupList" class="parentBody">
                                                <tr id="rowGroup{{$index}}" rel="vogroup_item_row{{$index}}_edit" ng-click="VORModel.editGroupItem($event, $index)"  class="T7" ng-class-even="'C2'"
                                                ng-class="{'disabledCheckOut' : VORModel.VIHeader.Status == 'Invoiced' || !GroupOnlyPermissions['Vendor invoicing']['create/modify']}">
                                                    <td class="td_background_style"></td>
                                                    <td id="VO_Group_block_grid_container_tbody_tr_td_1_{{$index}}" class="VO_Group_block_grid_container_tbody_tr_td_1_index_class" style="padding-top:12px; padding-bottom:12px;">
                                                        <img src="{!Application_Images}/sparkplug.png" ng-if="VIGroup.PartId" />
                                                		<i class="bp-icons bp-font-24 bp-grey-font bp-cursor-pointer bp-text-transform stroke-3 pull-left itemSvg" ng-if="VIGroup.SubletId">sublet</i>
                                                    </td>
                                                    <td  id="VO_Group_block_grid_container_tbody_tr_td_2_{{$index}}" class="VO_Group_block_grid_container_tbody_tr_td_2_index_class">
                                                        <a ng-mouseover="VORModel.showPartPopUp($event, VIGroup.PartId);" ng-if="VIGroup.PartId != null" ng-mouseleave="VORModel.hidePartPopUp();">
                                                                {{ VIGroup.Item}}</a>
                                                        <a ng-if="VIGroup.SubletId != null">{{ VIGroup.Item}}</a>
                                                        <div ng-if="VIGroup.PackageUnit !=null && VIGroup.PackageUnit !='NUll'"  >{{VIGroup.OrderType}}</div>  
                                                    </td>
                                                    <td class="text-center">
                                                            {{ VIGroup.PackingNumber}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{VIGroup.ReceivingQty}}<span ng-if="VIGroup.PackageUnit !=null && VIGroup.PackageUnit !='NUll'">{{VIGroup.PackageUnit}}</span>
                                                    </td>
                                                    <td class="text-center">
                                                            {{VIGroup.ReceivingCost | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag>
                                                    </td>
                                                    <td class="text-center">
                                                        {{VIGroup.InvoiceQty}}<span ng-if="VIGroup.PackageUnit !=null && VIGroup.PackageUnit !='NUll'">{{VIGroup.PackageUnit}}</span>
                                                    </td>
                                                    <td class="text-center">
                                                        <div  ng-show="VORModel.VIGroupListItems_editRow[$index].isEdit !=true" >{{VIGroup.InvoiceCost | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag></div>
                                                        <div  ng-show="VORModel.VIGroupListItems_editRow[$index].isEdit ==true"> 
	                                                        <price-only-input id-value="Rate_{{$index}}"
                                                                class-value="form-control large" place-holder-value=""
                                                                max-length="7" precision-length="2"
                                                                input-value="VIGroup.InvoiceCost"
                                                                set-event-on-blur="VORModel.VILineItemInvoiceCostBlurAction($event,$index, 'InvoiceCost')"
                                                                validation-modal-key="Price" input-model="VIGroup" 
                                                            />
                                                        </div>
                                                    </td>
                                                    <td class="text-center">
                                                        <div  ng-show="VORModel.VIGroupListItems_editRow[$index].isEdit !=true" >{{VIGroup.Discount | number : 2}}%</div>
                                                        <div  ng-show="VORModel.VIGroupListItems_editRow[$index].isEdit ==true"  ng-keydown="VORModel.editRowTabOutLast($event,$index)"> 
                                                            <input id="Discount_{{$index}}" ng-model ="VIGroup.Discount" ng-blur="VORModel.VILineItemInvoiceCostBlurAction($event,$index, 'DiscountField')" class="form-control"  />
                                                        </div>
                                                    </td>
                                                    <td class="text-center">
                                                            {{VIGroup.SubTotal | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag>
                                                    </td>
                                                    <td class="td_background_style"></td>
                                                </tr>
                                                
                                                
                                                <tr ng-show="VORModel.VIGroupListItems_editRow[$index].isEdit || VORModel.VILineNotificationBannerOnInvoiced[$index].isEdit">
                                                    <td class="td_background_style"></td>
                                                    <td class="td_background_style" ></td>
                                                    <td class="available_td" colspan="8">
                                                        <div class="show_Availableline" ng-if="!VORModel.IsForeignExchangeCostingEnabled || !VORModel.VIHeader.IsForeignVendor">  
                                                            <span>{{ 'Inventory_item_cost' | translate }} = {{(((VIGroup.InvoiceCost - (VIGroup.InvoiceCost * VIGroup.Discount) / 100) + ((VIGroup.AppliedCharge)/(VIGroup.InvoiceQty != 0 ? VIGroup.InvoiceQty : 1))) / (VIGroup.PackageUnit !=null ? VIGroup.PackageQty: 1)) | currency}}</span> 
                                                            <span id="inventoryCost" class="calculation-modal" ng-click="VORModel.showInventoryCostCalculationModal($index)">{{ 'See_how_it_is_calculated' | translate }}</span>
                                                        </div>
                                                        <div class="show_Availableline" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && !VORModel.IsXeroEnabled"> 
                                                            <span>{{ 'Inventory_item_cost' | translate }} = {{(((VIGroup.InvoiceCost - (VIGroup.InvoiceCost * VIGroup.Discount) / 100) + ((VIGroup.AppliedCharge)/(VIGroup.InvoiceQty != 0 ? VIGroup.InvoiceQty : 1)) + ((VIGroup.InvoiceCost - ((VIGroup.InvoiceCost * VIGroup.Discount) / 100) + ((VIGroup.AppliedCharge)/(VIGroup.InvoiceQty != 0 ? VIGroup.InvoiceQty : 1))) * (VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup - 1))) / (VIGroup.PackageUnit !=null ? VIGroup.PackageQty: 1)) | currency}}</span> 
                                                            <span id="inventoryCost" class="calculation-modal" ng-click="VORModel.showInventoryCostCalculationModal($index)">{{ 'See_how_it_is_calculated' | translate }}</span>
                                                        </div>
                                                        <div class="show_Availableline" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && VORModel.IsXeroEnabled">  
                                                            <span>{{ 'Inventory_item_cost' | translate }} = {{(((VIGroup.InvoiceCost - (VIGroup.InvoiceCost * VIGroup.Discount) / 100) + ((VIGroup.AppliedCharge)/(VIGroup.InvoiceQty != 0 ? VIGroup.InvoiceQty : 1)) + ((VIGroup.InvoiceCost - ((VIGroup.InvoiceCost * VIGroup.Discount) / 100) + ((VIGroup.AppliedCharge)/(VIGroup.InvoiceQty != 0 ? VIGroup.InvoiceQty : 1))) * ((1/(VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup).toFixed(6)).toFixed(6) - 1))) / (VIGroup.PackageUnit !=null ? VIGroup.PackageQty: 1)) | currency}}</span> 
                                                            <span id="inventoryCost" class="calculation-modal" ng-click="VORModel.showInventoryCostCalculationModal($index)">{{ 'See_how_it_is_calculated' | translate }}</span>
                                                        </div>
                                                    </td>
                                                    <td class="td_background_style"></td> 
                                                </tr>  
                                        </tbody>
                                    </table>
                                   </div>
                                   <!-- Pagination container -->
                                    <div class="pagination_container" id="Vendor_Order_Items_Pagination"
                                        ng-if="VORModel.totalGroupItems != undefined && VORModel.totalGroupItems != 0">
                                        <list-pagination
                                            total-records-length = "VORModel.totalGroupItems"
                                                             page-size = "VORModel.groupItemsPageSortAttrsJSON.PageSize"
                                                             current-page = "VORModel.groupItemsPageSortAttrsJSON.CurrentPage"
                                                             changes-count = "VORModel.groupItemsPageSortAttrsJSON.ChangesCount"
                                                             pagination-control-method = "VORModel.GroupItems_paginationControlsAction" />
                                    </div>
                                </div>
                         </div>
                         
                                <div id="Other_Charges_Block">
                                  <div class="main_section_COU row"  ng-show="VORModel.displaySections.Invoicing" >
                                     <div class="main_section_COU_Header row" >
                                        <p class="actionRow T2">
                                            <span class="sectionText">{{ 'Other_charges' | translate }}
                                                <i class="fa fa-plus cou_plus_icon "  ng-show="VORModel.VIHeader.Status != 'Invoiced' && GroupOnlyPermissions['Vendor invoicing']['create/modify']" ng-click="VORModel.setFocusToSearchBox('Fee');"></i>
                                            </span>
                                         </p>
                                       </div>
                                       
                                       <div class="gid_container T6 VOR_Vendor_Received_Block_grid_container_Empty_Div1_class" id="VOR_Vendor_Received_Block_grid_container_Empty_Div1" 
                                            ng-show="VORModel.OtherChargesList.length == 0">
                                            {{ 'Label_No_Records_Found' | translate }}
                                        </div>
                                       <div class="gid_container_Customer" id="Other_Charges_container_grid" ng-show="VORModel.OtherChargesList.length != 0">
                                            <table class="table otherChargeTableContainer" id="VendorOrderItem_Grid">
                                                <col width="1%"  />
                                                <col width="4%"  />
                                                <col width="35%"  />
                                                <col width="15%"  />
                                                <col width="44%" />
                                                <col width="1%"  />
                                                <thead>
                                                    <tr class="tableHeader T3 C2">
                                                        <th></th>
                                                        <th></th>
                                                        <th class="text-uppercase">{{ 'Part_Object_Item_Description' | translate }}</th>
                                                        <th class="text-center">​{{ 'Label_Cost' | translate }}</th>
                                                        <th class="text-uppercase">{{ 'Label_Notes' | translate }}​</th>
                                                        <th></th>
                                                    </tr>       
                                                </thead>
                                                <tbody ng-repeat="OtherCharge in  VORModel.OtherChargesList" class="parentBody">
                                                    <tr id="rowGroup{{$index}}" rel="vogroup_item_row{{$index}}_edit" ng-click="VORModel.editOtherCharge($event, $index)"  class="T7" ng-class-even="'C2'" ng-class="{'disabledCheckOut' : !GroupOnlyPermissions['Vendor invoicing']['create/modify']}">
                                                        <td class="td_background_style"></td>
                                                        <td id="Other_Charges_container_grid_tbody_tr_td_1_{{$index}}" class="VO_Group_block_grid_container_tbody_tr_td_1_index_class" style="padding-top:12px; padding-bottom:12px;">
                                                            <img src="{!Application_Images}/sparkplug.png" />
                                                        </td>
                                                        <td  id="Other_Charges_container_grid_tbody_tr_td_2_{{$index}}" class="Other_Charges_container_grid_tbody_tr_td_2_index_class">
                                                            <div ng-show="VORModel.OtherChargesListItems_editRow[$index].isEdit !=true" >{{OtherCharge.Code}} - {{OtherCharge.Description}}</div>
                                                            <div  ng-show="VORModel.OtherChargesListItems_editRow[$index].isEdit ==true" class="edit-fee-item"> 
                                                                {{OtherCharge.Code}} - 
                                                                <input type="text" class="form-control large description" id="description{{$index}}" placeholder="" 
                                                    				   					ng-model="OtherCharge.Description" maxlength="255" ng-blur="VORModel.editRowTabOutOtherCharges($event,$index)"/>
                                                            </div>
                                                        </td>
                                                        <td class="text-center">
                                                            <div  ng-show="VORModel.OtherChargesListItems_editRow[$index].isEdit !=true" >{{OtherCharge.Cost | currency}}<bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag></div>
                                                            <div  ng-show="VORModel.OtherChargesListItems_editRow[$index].isEdit ==true" ng-class="{'d-flex align-items-center': VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor}" > 
                                                                <price-only-input id-value="cost{{$index}}"
                                                                        class-value="form-control large text-center cost" place-holder-value=""
                                                                        precision-length="2"
                                                                    ng-class="{'cost': !VORModel.IsForeignExchangeCostingEnabled || !VORModel.VIHeader.IsForeignVendor}"
                                                                        input-value="OtherCharge.Cost"
                                                                        validation-modal-key="Price" input-model="OtherCharge"
                                                                        blur-event="VORModel.editRowTabOutOtherCharges($event,$index)"
                                                                        allow-negative="true" /> 
                                                                    <bp-flag ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor" currencyCode = "{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}"></bp-flag>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div  ng-show="VORModel.OtherChargesListItems_editRow[$index].isEdit !=true" >{{OtherCharge.Notes}}</div>
                                                            <div  ng-show="VORModel.OtherChargesListItems_editRow[$index].isEdit ==true" > 
                                                                <input type="text" id="note{{$index}}" class="form-control large notes" placeholder=""
                                                    				   maxlength="500" ng-model="OtherCharge.Notes" ng-blur="VORModel.editRowTabOutOtherCharges($event,$index)"/> 
                                                            </div>
                                                        </td>
                                                        <td class="td_background_style"></td>
                                                    </tr>
                                                    
                                                    <tr class="edit_panel sample-show-hide T7" id="rowGroup{{$index}}"
	                                                 ng-show="VORModel.OtherChargesListItems_editRow[$index].isEdit" > 
	                                                <td style="backgroung-color:#fff"></td>
	                                                <td class="BL" style="background:#fff"></td>
	                                                <td colspan="7" class="edit-service-item" id="Other_Charges_container_grid_tbody_tr_td_2_{{$index}}" style="padding-left:0px; padding-right:0px;">
	                                                    <div class="edit_box serviceitemedit col-md-12 " id="Other_Charges_container_grid_tbody_tr_td_2_{{$index}}_edit_box">
	                                                        <div class="its-heading" id="Other_Charges_container_grid_tbody_tr_td_2_{{$index}}_edit_box_its-heading">
	                                                            <i class="fa fa-angle-down"></i>
	                                                            <span>{{ 'Label_Actions' | translate }} ({{ 'One_action_available' | translate }})</span>  
	                                                        </div>
	                                                        <div class="edit-body" id="Other_Charges_container_grid_tbody_tr_td_2_{{$index}}_edit-body">
	                                                            <form>
	                                                                <div class="radio" id="Other_Charges_container_grid_tbody_tr_td_2_{{$index}}_edit-body_radio1">
	                                                                    <label>
	                                                                        <p class="chk_tick edit-service-chek chked">
	                                                                            <i class="fa fa-check-square chksqure"></i>
	                                                                        </p>
	                                                                        <span>{{ 'Remove_other_charges' | translate }}</span>
	                                                                    </label>
	                                                                </div>
	                                                                <a  id="Other_Charges_container_grid_tbody_tr_td_2_{{$index}}_edit-body_gobtn" 
	                                                                    class="btn btn-default editform_btn" role="button"   ng-click="VORModel.removeOtherCharge($index);">{{ 'Label_Apply' | translate }}</a>                                
	                                                            </form>
	                                                        </div>
	                                                    </div>
	                                                </td>
	                                                <td></td>
	                                            </tr>
                                        
                                            </tbody>
                                        </table>
                                       </div>
                                       <div ng-if="VORModel.OtherChargesList.length > 0" class="include-other-charge-costing">
                                            <bp-ng-slider value="{{VORModel.VIHeader.IncludeOtherChargeInCosting}}" ng-class-name= "{'c-checkd-slider':VORModel.VIHeader.IncludeOtherChargeInCosting, 'disableSlider':VORModel.VIHeader.Status == 'Invoiced'}" on-click-fun="VORModel.actionToAllocateOtherCharge();" field-value="{{'Include_other_charges_as_part_of_the_inventory_costs' | translate}}" disable-toggle-click="VORModel.VIHeader.Status == 'Invoiced'"></bp-ng-slider>
                                       </div>
                                    </div>
                             </div>
                         </div>
                         
                         <div class="sectionHeader row" ng-show="VORModel.VIHeader.Status != 'Invoiced' && VORModel.VIHeader.InvoiceNumber != undefined && VORModel.VIHeader.InvoiceNumber != '' && VORModel.VIHeader.InvoiceNumber != null && (VORModel.VIGroupList.length > 0 || VORModel.OtherChargesList.length > 0)">
                            <div class="col-lg-4 col-lg-5 PL14">
                                <div class="fixedHeaderText">
                                    <span class="headerlabel">
                                        <i class="fa fa-angle-right"
                                           ng-show="!VORModel.displaySections.FinalizeOrder"
                                           ng-Click="VORModel.showSections('FinalizeOrder')" ng-class="{'defaultCursor' : !GroupOnlyPermissions['Vendor invoicing']['view']}">
                                        </i> 
                                        <i class="fa fa-angle-down"
                                           ng-show="VORModel.displaySections.FinalizeOrder"
                                           ng-Click="VORModel.showSections('FinalizeOrder')">
                                        </i> 
                                        <span class="divider">|</span>
                                        <span class = "headdingFirstText">{{ 'C' | translate }}</span>
                                        <span class="T2">{{ 'Finalize' | translate }}</span>
                                     </span>
                                        </div>
                                </div>
                            </div>
                        
                         <div id="VOI_Finalize_Block" ng-show="VORModel.VIHeader.Status != 'Invoiced' && VendorInvoiceNumber != undefined && VendorInvoiceNumber != '' && VendorInvoiceNumber != null && (VORModel.VIGroupList.length > 0 || VORModel.OtherChargesList.length > 0)">
                              <div class="main_section_COU row"  ng-show="VORModel.displaySections.FinalizeOrder" >
                                <div class="main_section_COU_Header row" >
                                    <p class="actionRow T2">
                                        <span class="sectionText">{{ 'Finalize' | translate }}</span>
                                        <span class="ActionIcons">
                                            <i class="fa fa-question-circle" data-toggle="tooltip" title="Finalize Invoice Section"></i>
                                        </span> 
                                     </p>
                                     <div class="finalize-fx-banner" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor">
                                        <c:FXWarningInfoBanner currencyCode="{{VORModel.VIHeader.FXCurrencyDetails.CurrencyCode}}" formattedFXCurrencyCode="{{VORModel.VIHeader.FXCurrencyDetails.FormattedFXCurrencyCode}}" conversionRateLabel="{{(VORModel.VIHeader.Status == 'Invoiced') ? ('Conversion_rate_when_finalized' | translate) : ('Current_conversion_rate' | translate)}}" ExchangeRate="{{VORModel.formattedConversionRate}}" sentence_1="{{(VORModel.VIHeader.Status == 'Invoiced') ? ('All_costs_are_in_the_currency_of_the_vendor' | translate) : ('All_cost_on_this_vendor_invoice_must_be_in_the_currency_of_the_vendor' | translate)}}" sentence_2="{{(VORModel.VIHeader.Status == 'Invoiced') ? ('When_finalized_they_were_converted_to_your_local_currency_in_inventory_using_this_conversion_rate' | translate) : ('When_finalized_any_updated_to_your_inventory_will_be_converted_to_your_local_currency' | translate)}}" />
                                    </div>
                                 </div>
                                 <div class="gid_container_Customer">
                                     <div class="col-lg-3 col-md-3 col-lg-offset-9 col-md-offset-9 finalizeInvoiceBtnSection text-center">
                                        <button class="btn greenBtn"
                                              ng-class="{'active_btn' : (VORModel.VIHeader.Status != 'Invoiced' && !VORModel.disableFinalizeInvoiceBtn), 
											  'C5': !(VORModel.VIHeader.Status != 'Invoiced' && !VORModel.disableFinalizeInvoiceBtn)}"  
                                            ng-disabled="VORModel.VIHeader.Status == 'Invoiced' || VendorInvoiceNumber == undefined || 
												VendorInvoiceNumber == '' || VendorInvoiceNumber == null || VORModel.disableFinalizeInvoiceBtn || !GroupOnlyPermissions['Vendor invoicing']['create/modify'] " 
                                            ng-click="VORModel.finalizeOrder($event)" 
                                            ng-attr-tabindex="{{CustomerOrderModel.tabIndexValue + ($index * 12) + 101}}">{{ 'Finalize' | translate }} {{ 'Invoice_Object_Display_Label_Smallcase' | translate }} 
                                        </button>
                                        <p>{{VORModel.vendorOrderLineItemGroupList}}</p>
                                     </div>
                                 </div>
                                  
                              </div>
                         </div>
                         </div>
                         <div class="VOI_Final_Div"></div>
                    </div>
                 </div>
             <!-- center div end here -->
       </div>
    <!--  content end here --> 
			</div>
	</div>
    <!-- cost Variance Modal Window -->
    <bp-ng-modal-window id-val="costVarianceWarning" mobal-window-payload="VORModel.ModalWindowPayload" cancel-btn-action="VORModel.closeCostVarianceWarningModalWindow()" primary-btn-action="VORModel.confirmVRLineItem()">
        <div>
            <span>
                <p class="modal-window-message-info">{{VORModel.result}} Please confirm that the value you entered is correct.</p>
            </span>
        </div>
    </bp-ng-modal-window>
    <bp-ng-modal-window id-val="inventoryCostCalculation" mobal-window-payload="VORModel.ModalWindowPayload" cancel-btn-action="VORModel.closeInventoryCostModal()" primary-btn-action="VORModel.closeInventoryCostModal()">
        <div>
            <p class="modal-window-message-info">{{ 'The_resulting_inventory_cost_is_calculated_as_follows' | translate }}</p>
        </div>
        <div>
            <div class="align-cost-calculation">
                <p>{{ 'Inventory_cost_you_have_entered' | translate }}</p>
                <p class="calculated-value">{{VORModel.inventoryCostValue.InvoiceCost | currency}}</p>
            </div>
            <div class="align-cost-calculation">
                <p>{{ 'Less_any_discount_you_have_entered' | translate }}</p>
                <p class="calculated-value">- {{(VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100 | currency}} ({{VORModel.inventoryCostValue.Discount}}%)</p>
            </div>
            <div class="align-cost-calculation">
                <p>{{ 'Plus_any_Landed_Cost_Adjustment_applied' | translate }}</p>
                <p class="calculated-value">+ {{((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1)) | currency}}</p>
            </div>
            <div class="align-cost-calculation">
                <p>{{ 'Plus_any_foreign_exchange_conversion' | translate }}</p>
                <p class="calculated-value" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && !VORModel.IsXeroEnabled">+ {{((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) * (VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup - 1)) | currency}}</p>
                <p class="calculated-value" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && VORModel.IsXeroEnabled">+ {{((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) * ((1/(VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup).toFixed(6)).toFixed(6) - 1)) | currency}}</p>
                <p class="calculated-value" ng-if="!VORModel.IsForeignExchangeCostingEnabled || !VORModel.VIHeader.IsForeignVendor">+ {{ 0 | currency}}</p>
            </div>
            <div class="align-cost-calculation">
                <p>{{ 'Results_in_a_cost_per_qty_received' | translate }}</p>
                <p class="calculated-value" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && !VORModel.IsXeroEnabled">= {{((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) + ((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) * (VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup - 1))) | currency}}</p>
                <p class="calculated-value" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && VORModel.IsXeroEnabled">= {{((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) + ((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) * ((1/(VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup).toFixed(6)).toFixed(6) - 1))) | currency}}</p>
                <p class="calculated-value" ng-if="!VORModel.IsForeignExchangeCostingEnabled || !VORModel.VIHeader.IsForeignVendor">= {{(VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) | currency}}</p>
            </div>
            <div class="align-cost-calculation last-inventory-calculation">
                <p>{{ 'Which_when_divided_by_the_package_qty' | translate }}</p>
                <p class="calculated-value">/{{ VORModel.inventoryCostValue.PackageUnit !=null ? VORModel.inventoryCostValue.PackageQty: 1}}</p>
            </div>

            <div class="show_Availableline final-result">  
                <p class="inventory-cost-label">{{ 'Results_in_an_inventory_cost_for_each_individual_item' | translate }}</p> 
                <p class="calculated-value" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && !VORModel.IsXeroEnabled">= {{(((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) + ((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) * (VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup - 1))) / (VORModel.inventoryCostValue.PackageUnit !=null ? VORModel.inventoryCostValue.PackageQty: 1)) | currency}}</p>
                <p class="calculated-value" ng-if="VORModel.IsForeignExchangeCostingEnabled && VORModel.VIHeader.IsForeignVendor && VORModel.IsXeroEnabled">= {{(((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) + ((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) * ((1/(VORModel.VIHeader.FXCurrencyDetails.ConversionRateWithMarkup).toFixed(6)).toFixed(6) - 1))) / (VORModel.inventoryCostValue.PackageUnit !=null ? VORModel.inventoryCostValue.PackageQty: 1)) | currency}}</p>
                <p class="calculated-value" ng-if="!VORModel.IsForeignExchangeCostingEnabled || !VORModel.VIHeader.IsForeignVendor">= {{((VORModel.inventoryCostValue.InvoiceCost - ((VORModel.inventoryCostValue.InvoiceCost * VORModel.inventoryCostValue.Discount) / 100) + ((VORModel.inventoryCostValue.AppliedCharge)/(VORModel.inventoryCostValue.InvoiceQty != 0 ? VORModel.inventoryCostValue.InvoiceQty : 1))) / (VORModel.inventoryCostValue.PackageUnit !=null ? VORModel.inventoryCostValue.PackageQty: 1)) | currency}}</p>
            </div>
        </div>
    </bp-ng-modal-window>
    <bpda-lca id="bpdaLca" show-alert='show-alert' ></bpda-lca>
</apex:page>