<apex:page standardStylesheets="false" showChat="false" showHeader="false" sidebar="false" docType="html-5.0" controller="GlobalController">
    <link href="https://fonts.googleapis.com/css?family=Barlow:300,400,600" rel="stylesheet" />
    <div class="GroupSummaryWrapper AddEditUnitOrderPage" ng-class = "{'paddingBottom60' : !M_AddEditUO.isEditMode }" id="AddEditUnitOrderWrapperId">
        <!-- Start: SPCUNIT 007 - Vendor on Order Unit page -->
        <div ng-if="M_AddEditUO.unitRec.Status !='Received'">
            <div ng-if="M_UO.coNumber" class="c-sub-heading banner-container cyan-banner">
                <i class="bp-icons bp-font-18 bp-cyan-font MT-5">info</i>
                <div>
                    <p>{{ 'Order_Unit_Info_Msg' | translate }} <span><a class="H300 bp-blue-font" ui-sref="ViewCustomer({Id:M_UO.customerId })" target="_blank"> {{M_UO.customerName}}</a>
                    </span> on <span><a class="bp-blue-font H300" ui-sref="CustomerOrder_V2({Id:M_UO.coId})" target="_blank"> {{M_UO.coNumber}} </a>
                    </span></p>
                </div>
            </div>
            <div ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName">
                <c:FXWarningInfoBanner currencyCode="{{M_AddEditUO.CurrencyCode}}" formattedFXCurrencyCode="{{M_AddEditUO.FormattedCurrencyCode}}" ExchangeRate="{{M_AddEditUO.formattedConversionRate}}" conversionRateLabel="{{'Current_conversion_rate' | translate}}" sentence_1="{{'All_costs_are_in_the_currency_of_the_vendor_All_prices_are_in_the_local_currency' | translate}}" />
            </div>
            <h3 class="section-heading" ng-if="M_AddEditUO.vendorType.VendorName">Vendor: {{M_AddEditUO.headerVendorName}}</h3>
            <div ng-if="M_AddEditUO.isEditMode" class="form-input vendor-input-section">
                <label class="bp-label" ng-class="{'MT30': !M_AddEditUO.vendorType.VendorName }">Select vendor <span ng-if="!M_AddEditUO.vendorType.VendorName" class = "bp-red-font">*</span></label>
                <div class="bp-cell  searchInputArea makeSeachingWrapper vendorSearchArea" ng-class = "{'showingOverlay' : M_AddEditUO.showVendorList }">
                    <input  type="text" id="vendorUnitOrdering" class="bp-input-text searchInput" placeholder="Please search for a vendor"
                        autocomplete="off" ng-focus = "F_AddEditUO.getVendorList()" ng-blur = "F_AddEditUO.hideVendorList()"
                        ng-model="M_AddEditUO.vendorType.VendorName"
                        ng-keyup="F_AddEditUO.keyBoardavigation($event, M_AddEditUO.vendorList, 'vendor');" />
                        <i class="fa fa-search vendorSearchIcon" ng-click = "F_AddEditUO.setFocusOnElement('vendorUnitOrdering')"></i>
                    <div class="searchResultOverlay" id="vendorDropDownDiv">
                        <ul>
                            <li ng-repeat="vendor in M_AddEditUO.vendorList | filter:M_AddEditUO.vendorType.VendorName"
                                ng-mousedown="F_AddEditUO.setSelectedVendorName(vendor)"
                                ng-class="{'selected-row': $index == M_AddEditUO.makeCurrentIndex}"
                                id="vendor{{$index}}">
                                <div class="fullName">{{vendor.VendorName}}</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div ng-if="M_AddEditUO.unitRec.Status == 'Received'">
            <div ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName">
                <c:FXWarningInfoBanner currencyCode="{{M_AddEditUO.CurrencyCode}}" formattedFXCurrencyCode="{{M_AddEditUO.FormattedCurrencyCode}}" ExchangeRate="{{M_AddEditUO.formattedConversionRate}}" conversionRateLabel="{{'Conversion_rate_when_received' | translate}}" sentence_1="{{'All_costs_are_in_the_currency_of_the_vendor_All_prices_are_in_the_local_currency' | translate}}" />
            </div>
            <h3 class="section-heading" ng-if="M_AddEditUO.vendorType.VendorName">Vendor: {{M_AddEditUO.headerVendorName}}</h3>
        </div>
        <!-- End: SPCUNIT 007 - Vendor on Order Unit page -->

        
        <h3 class="section-heading">{{ 'General_Help_Text' | translate }}</h3>
        <div class="general-info-wrapper" ng-if = "M_AddEditUO.isEditMode">
            <div class="row lr-pad-100">
                <div class="col-md-6">
                    <div class="form-input">
                        <label class="bp-label">{{ 'Make_Object_Display_Label' | translate }} <span class = "bp-red-font">*</span></label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showMakeList }">
                            <input  type="text" id="MakeUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_make' | translate }}"
                                autocomplete="off" ng-focus = "F_AddEditUO.getMakeList()" ng-blur = "F_AddEditUO.hideMakeList();F_AddEditUO.checkMakeModelCreatePermission();"
                                ng-model="M_AddEditUO.UnitMakeName" 
                                ng-keyup="F_AddEditUO.keyBoardavigation($event, M_AddEditUO.UnitMakeList, 'make'); F_AddEditUO.clearMakeModelSubModelValue();" />
                                <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('MakeUnitOrdering')">arrowDown</i>
                            <div class="searchResultOverlay" id="makeDropDownDiv">
                                <ul>
                                    <li ng-repeat="unitMake in M_AddEditUO.UnitMakeList | filter:{'UnitMakeName' : M_AddEditUO.UnitMakeName }"
                                        ng-mousedown="F_AddEditUO.selectUnitMake(unitMake)"
                                        ng-class="{'selected-row': $index == M_AddEditUO.makeCurrentIndex}"
                                        id="make{{$index}}">
                                        <div class="fullName">{{unitMake.UnitMakeName}}</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ Custom_Label_Model | translate }} <span class = "bp-red-font">*</span></label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showModelList }">
                            <input  type="text" id="ModelUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_model' | translate }}"
                                autocomplete="off" ng-focus = "F_AddEditUO.getModelList()" ng-blur = "F_AddEditUO.hideModelList();F_AddEditUO.checkMakeModelCreatePermission();"
                                ng-model="M_AddEditUO.unitRec.ModelName" />
                                <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('ModelUnitOrdering')">arrowDown</i>
                            <div class="searchResultOverlay" id="modelDropDownDiv">
                                <ul>
                                    <li ng-repeat="unitModel in M_AddEditUO.UnitModelList | filter:{'UnitModelName' : M_AddEditUO.unitRec.ModelName }"
                                        ng-mousedown="F_AddEditUO.selectUnitModel(unitModel)"
                                        ng-class="{'selected-row': $index == M_AddEditUO.makeCurrentIndex}"
                                        id="model{{$index}}" ng-if = "unitModel.UnitModelName">
                                        <div class="fullName">{{unitModel.UnitModelName}}</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ Custom_Label_Sub_Model | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showSubModelList }">
                            <input  type="text" id="SubModelUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_sub_model' | translate }}"
                                autocomplete="off" ng-focus = "F_AddEditUO.getSubModelList()" ng-blur = "F_AddEditUO.hideSubModelList();F_AddEditUO.checkMakeModelCreatePermission();"
                                ng-model="M_AddEditUO.unitRec.SubModelName" />
                                <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('SubModelUnitOrdering')">arrowDown</i>
                            <div class="searchResultOverlay" id="subModelDropDownDiv">
                                <ul>
                                    <li ng-if="M_AddEditUO.UnitSubModelList.length > 0 && unitSubModel.SubModelName" ng-repeat="unitSubModel in M_AddEditUO.UnitSubModelList | filter:{'SubModelName' : M_AddEditUO.unitRec.SubModelName }"
                                        ng-mousedown="F_AddEditUO.selectUnitSubModel(unitSubModel)"
                                        id="subModel{{$index}}">
                                        <div class="fullName">{{unitSubModel.SubModelName}}</div>
                                    </li>
                                    <li ng-if="M_AddEditUO.UnitSubModelList.length == 0">
                                        <div class="fullName">{{ 'No_sub_model_found' | translate }}</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="row lr-pad-10">
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Label_Year' | translate }}</label>
                                <div class="selectSearchingYear">
                                    <select class="year-input-text" data-ng-model="M_AddEditUO.SelectedYear" ng-change="F_AddEditUO.selectUnitYear(M_AddEditUO.SelectedYear,'Year')" ng-class = "{'placeholder-year' : !M_AddEditUO.SelectedYear }">
                                        <option value="undefined" ng-selected="M_AddEditUO.SelectedYear == undefined" disabled="disabled">Select year</option>
                                        <option ng-repeat="i in M_AddEditUO.Years"
                                            value="{{i.year}}" ng-selected="M_AddEditUO.SelectedYear == i.year">{{i.year}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Condition' | translate }}</label>
                                <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showConditions }">
                                    <input  type="text" id="ConditionUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_condition' | translate }}"
                                        autocomplete="off" ng-focus="M_AddEditUO.showConditions = true" ng-blur="M_AddEditUO.showConditions = false"
                                        readonly="readonly" ng-model="M_AddEditUO.unitRec.Condition" />
                                    <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('ConditionUnitOrdering')">arrowDown</i>
                                    <div class="searchResultOverlay" id="ConditionUnitOrderingScrollDiv">
                                        <ul>
                                            <li ng-repeat="condition in M_AddEditUO.Conditions" ng-mousedown="F_AddEditUO.selectUnitCondition(condition)">
                                                <div class="fullName">{{condition}}</div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 second-column">
                    <div class="form-input">
                        <label class="bp-label">{{ 'Exterior_colour_Label' | translate }}</label>
                        <input type="text" class="bp-input-text" placeholder="{{ 'Placeholder_color' | translate }}"
                                    ng-model="M_AddEditUO.unitRec.ExteriorColour" />
                    </div>
                    <div class="row lr-pad-10">
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Factory_order_number' | translate }}</label>
                                <input type="text" class="bp-input-text" placeholder="{{ 'Placeholder_factory_number' | translate }}"
                                    ng-model="M_AddEditUO.unitRec.FactoryOrderNo" />
                            </div>
                        </div>
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Stock_number' | translate }}</label>
                                <input type="text" class="bp-input-text" placeholder="{{ 'Placeholder_stock_number' | translate }}"
                                    ng-model="M_AddEditUO.unitRec.StockNumber" ng-blur="M_AddEditUO.isStockNumberInvalid = M_AddEditUO.validateStockNumber(true)" ng-class="{'bp-redborder' : M_AddEditUO.isStockNumberInvalid}"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ 'VIN' | translate }}</label>
                        <div class="vin-number-container">
                        <input type="text" id="VIN_OrderUnit" class="bp-input-text" maxlength = "40" placeholder="{{ 'Placeholder_VIN' | translate }}" ng-model="M_AddEditUO.unitRec.VIN" upper-case-input="upper-case-input"
                        ng-keydown="F_AddEditUO.keydownForVIN($event, M_AddEditUO.unitRec.VIN)" ng-blur="F_AddEditUO.getVehicleSpecification(M_AddEditUO.unitRec.VIN)"/> <!--  ng-class="{'error-data': !(F_AddEditUO.isValidVIN(M_AddEditUO.unitRec.VIN))}"/> -->
                    
                    	 	<span class="green-circle-tick-mark" ng-if="M_AddEditUO.vehicleSpecificationsResult == 'Match found with all fields match'">
                           		<i class="bp-icons bp-font-10 bp-white-font stroke-3">check</i>
                           </span>
                         	<span class="green-circle-tick-mark  bp-yellow-dark" ng-if="M_AddEditUO.vehicleSpecificationsResult == 'Match found with not all fields match'">
                          	<span class="exclamation-mark">!</span>
                          </span>
                          	<i class="input-loading-icon" ng-if="M_AddEditUO.vehicleSpecificationsResult == 'Loading'">
					      <svg class="input-spiner" width="85px" height="85px" viewBox="0 0 66 66" xmlns="https://www.w3.org/2000/svg">
							   <circle class="input-spiner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
							</svg>
                             </i>
                          </div>
                    </div>
                    <div class="form-input unit-order-specification-container" ng-if="M_AddEditUO.vehicleSpecificationsResult == 'Match found with not all fields match'">
                        <unit-specification unit-specification-payload="M_AddEditUO.unitRec.mapOfNewAndOldValue" primary-btn-action="F_AddEditUO.openBRPModal()" />
                    </div>
                    <div ng-if="M_AddEditUO.showBRPVehicleComponent">
                        <c:BRPVehicleInformation />
                    </div>
                    <div class="form-input match-not-found" ng-if="M_AddEditUO.vehicleSpecificationsResult == 'Match not found'">
                    	<div>{{ 'This_is_not_a_valid_VIN_for_this_vendor' | translate }}</div>
                    </div>
                    
                    <div class="form-input">
                        <label class="bp-label">{{ 'Category_Object_Display_Label' | translate }} <span class = "bp-red-font">*</span></label>
                        <div class="bp-cell searchInputArea makeSeachingWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showCategoryList}">
                            <input type="text" id="CategoryUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Select_category' | translate }}"
                                autocomplete="off" ng-focus="F_AddEditUO.getCategoryList()"  ng-blur="F_AddEditUO.hideCategoryList()"
                                ng-model="M_AddEditUO.UnitCategoryName" readonly="readonly" />
                            <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click="F_AddEditUO.setFocusOnElement('CategoryUnitOrdering')">arrowDown</i>
                            <div class="searchResultOverlay categryDropdown" id="categoryDropDownDiv">
                                <ul>
                                    <li ng-repeat="category in M_AddEditUO.UnitCategoryList" ng-mousedown="F_AddEditUO.changeUnitCategory(category)"
                                        ng-class="{'selected-row': $index == M_AddEditUO.categoryCurrentIndex}" id="category{{$index}}">
                                        <div class="fullName">{{category.Name}}</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row lr-pad-10">
                        <div class="col-xs-6">
		                    <div class="form-input">
		                        <label class="bp-label">{{ 'Date_ordered' | translate }}</label>
		                    	<div class="bp-cell  searchInputArea makeSeachingWrapper">
		                           	<div class="datePickerWrappercontainer">
			                            <input type="text" class="date-picker" id="OrderedDateUnitOrdering" placeholder="{{M_AddEditUO.dateFormat}}" 
			                            	ng-model="M_AddEditUO.unitRec.OrderedDate" date-format="M_AddEditUO.dateFormat" 
			                            	ng-change = "F_AddEditUO.calculateExpectedDate()"
			                            	data-range-start="OrderedDateUnitOrdering"
			                            	data-range-end="ExpectedDateUnitOrdering"
			                            	datepicker = "datepicker" autocomplete="off" readonly = "readonly" />
		                           	</div>
		                        </div>
		                    </div>
		                </div>
		                
                        <div class="col-xs-6">
		                    <div class="form-input">
		                        <label class="bp-label">{{ 'Date_expected' | translate }}</label>
		                    	<div class="bp-cell  searchInputArea makeSeachingWrapper">
		                           	<div class="datePickerWrappercontainer">
			                            <input type="text" class="date-picker" id="ExpectedDateUnitOrdering" placeholder="{{M_AddEditUO.dateFormat}}" 
			                            	ng-model="M_AddEditUO.unitRec.ExpectedDate" start-date="M_AddEditUO.unitRec.OrderedDate" 
			                            	date-format="M_AddEditUO.dateFormat"  
			                            	datepicker = "datepicker" autocomplete="off" readonly = "readonly" />
		                           	</div>
		                        </div>
		                    </div>
		                </div>
	            	</div>
                </div>
            </div>
        </div>
        
        <div class="general-info-wrapper general-editable-info-wrapper" ng-if = "!M_AddEditUO.isEditMode">
            <div class="row lr-pad-100">
                <div class="col-md-6">
                        <div class="form-input" >
                            <label class="bp-label">{{ 'Make_Object_Display_Label' | translate }}</label>
                            <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.MakeName}}</span>
                        </div>
                        <div class="form-input">
                            <label class="bp-label">{{ Custom_Label_Model | translate }}</label>
                            <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.ModelName}}</span>
                        </div>
                        <div class="form-input">
                            <label class="bp-label">{{ Custom_Label_Sub_Model | translate }}</label>
                            <span class = "bp-editmode-text" ng-if = "M_AddEditUO.unitRec.SubModelName">{{M_AddEditUO.unitRec.SubModelName}}</span>
                            <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.SubModelName">- - - - - - - - -</span>
                        </div>
                        <div class="form-input">
                            <label class="bp-label">{{ 'Label_Year' | translate }}</label>
                            <span class = "bp-editmode-text" ng-if = "M_AddEditUO.unitRec.Year">{{M_AddEditUO.unitRec.Year}}</span>
                             <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.Year">- - - - - - - - -</span>
                        </div>
                         <div class="form-input">
                            <label class="bp-label">{{ 'Condition' | translate }}</label>
                            <span class = "bp-editmode-text" ng-if = "M_AddEditUO.unitRec.Condition">{{M_AddEditUO.unitRec.Condition}}</span>
                             <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.Condition">- - - - - - - - -</span>
                        </div>
                </div>
                <div class="col-md-6 second-column">
                    <div class="form-input">
                        <label class="bp-label">{{ 'Exterior_colour_Label' | translate }}</label>
                        <span class = "bp-editmode-text" ng-if = "M_AddEditUO.unitRec.ExteriorColour">{{M_AddEditUO.unitRec.ExteriorColour}}</span>
                         <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.ExteriorColour">- - - - - - - - -</span>
                    </div>
                     <div class="form-input">
                        <label class="bp-label">{{ 'Factory_order_number' | translate }}</label>
                        <span class = "bp-editmode-text" ng-if = "M_AddEditUO.unitRec.FactoryOrderNo">{{M_AddEditUO.unitRec.FactoryOrderNo}}</span>
                         <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.FactoryOrderNo">- - - - - - - - -</span>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ 'Stock_number' | translate }}</label>
                        <span class = "bp-editmode-text" ng-if = "M_AddEditUO.unitRec.StockNumber">{{M_AddEditUO.unitRec.StockNumber}}</span>
                        <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.StockNumber">- - - - - - - - -</span>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ 'VIN' | translate }}</label>
                         <span class = "bp-editmode-text bp-word-break-all bp-lh-15" ng-if = "M_AddEditUO.unitRec.VIN">{{M_AddEditUO.unitRec.VIN}}</span>
                         <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.VIN">- - - - - - - - -</span>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ 'Category_Object_Display_Label' | translate }}</label>
                        <span class = "bp-editmode-text bp-word-break-all bp-lh-15" ng-if = "M_AddEditUO.UnitCategoryName">{{M_AddEditUO.UnitCategoryName}}</span>
                        <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.UnitCategoryName">- - - - - - - - -</span>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ 'Date_ordered' | translate }}</label>
                        <span class = "bp-editmode-text bp-word-break-all bp-lh-15" ng-if="M_AddEditUO.unitRec.OrderedDate">{{M_AddEditUO.unitRec.OrderedDate}}</span>
                        <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.OrderedDate">- - - - - - - - -</span>
                    </div>
                    <div class="form-input">
                        <label class="bp-label">{{ 'Date_expected' | translate }}</label>
                        <span class = "bp-editmode-text bp-word-break-all bp-lh-15" ng-if="M_AddEditUO.unitRec.ExpectedDate">{{M_AddEditUO.unitRec.ExpectedDate}}</span>
                        <span class = "bp-editmode-text" ng-if = "!M_AddEditUO.unitRec.ExpectedDate">- - - - - - - - -</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="pricing-info-wrapper">
            <h3 class="section-heading">{{ 'Pricing_cost_information' | translate }}</h3>
            <div class="row lr-pad-10 price-cost-inputs MB15" ng-if = "M_AddEditUO.isEditMode">
                <div class="col-sm-5 tax-container">
                    <div class="form-input custom-toggle-main-container">
                        <label class="bp-label">{{ 'ViewLabour_Taxable' | translate }}</label>
                        <div class="toggle-input custom-toggle-input">
                            <ul>
                                <li ng-click="F_AddEditUO.setTaxable()" ng-class = "{'active-toggle':M_AddEditUO.unitRec.IsTaxable}">
                                    {{ 'Label_Yes' | translate }}
                                </li>
                                <li ng-click="F_AddEditUO.setTaxable()" ng-class = "{'active-toggle':!M_AddEditUO.unitRec.IsTaxable}">
                                    {{ 'Label_No' | translate }}
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4" ng-if="M_AddEditUO.unitRec.IsTaxable">
                    <div class="form-input CM0 ">
                        <label class="bp-label">{{ 'Applicable_tax_Label' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class="{'showingOverlay' : M_AddEditUO.showApplicableTaxes }">
                            <span data-toggle="tooltip" data-original-title="{{M_AddEditUO.unitRec.ApplicableTaxName}}">
                            <input  type="text" id="ApplicabletaxUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'GST' | translate }}"
                                autocomplete="off" readonly="readonly" ng-focus="M_AddEditUO.showApplicableTaxes = true"
                                ng-blur="M_AddEditUO.showApplicableTaxes = false"
                                    ng-model="M_AddEditUO.unitRec.ApplicableTaxName" /></span>
                            <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('ApplicabletaxUnitOrdering')">arrowDown</i>
                            <div class="searchResultOverlay" id="ApplicabletaxUnitOrderingScrollDiv">
                                <ul>
                                    <li ng-repeat="tax in M_AddEditUO.ApplicableTaxList" ng-mousedown="F_AddEditUO.changeApplicableTax(tax)"
                                    data-toggle="tooltip" title="{{tax.Name}}">
                                        <div class="fullName">{{tax.Name}}</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row lr-pad-10 price-cost-inputs MB15" ng-if = "M_AddEditUO.isEditMode && M_AddEditUO.IsSalesTaxTaxUntilUnitSold">
	            <div class="col-sm-12">
	                    <div class="form-input custom-toggle-main-container">
	                        <label class="bp-label col-xs-12 P0">{{ 'Accrue_purchase_tax_until_this_unit_is_sold' | translate }}</label>
                            <div class="toggle-input custom-toggle-input">
                                 <ul ng-class = "{'custom-toggle-input-disabled': M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName}">
                                     <li ng-click="F_AddEditUO.setAccruePurchaseTax()" ng-class = "{'active-toggle':M_AddEditUO.unitRec.IsAccruePurchaseTaxUntilThisUnitIsSold, 'custom-toggle-input-disabled': M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName}">
                                         {{ 'Label_Yes' | translate }}
                                     </li>
                                     <li ng-click="F_AddEditUO.setAccruePurchaseTax()" ng-class = "{'active-toggle':!M_AddEditUO.unitRec.IsAccruePurchaseTaxUntilThisUnitIsSold, 'custom-toggle-input-disabled': M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName}">
                                         {{ 'Label_No' | translate }}
                                     </li>
                                 </ul>
	                        </div>
	                    </div>
	                </div>
	        </div>
            
            <div class="row lr-pad-10 price-cost-inputs MB15"  ng-if = "M_AddEditUO.isEditMode && M_AddEditUO.PriceAndCostTrackingWrapperList.length == 0">
                <div class="col-sm-4">
                    <div class="form-input">
                        <label class="bp-label text-capitalize">{{ 'Base_unit' | translate }} {{ 'Label_Price' | translate }}</label>
                         <numbers-only 
                                        class-value="bp-input-text"
                                        place-holder-value="{{ 'Placeholder_base_price' | translate }}"  
                                        max-length="10"
                                        precision-length = "2"
                                        force-precision-length = "false"
                                        include-blank="true"
                                        include-negative = "true"
                                        input-model-value="M_AddEditUO.tempFactory.TotalPrice" />
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-input">
                        <label class="bp-label text-capitalize">{{ 'Base_unit' | translate }} {!$Label.Label_Cost}{{ '' | translate }}</label>
                        <numbers-only 
                                        class-value="bp-input-text"
                                        place-holder-value="{{ 'Placeholder_base_cost' | translate }}"
                                        max-length="10"
                                        precision-length = "2"
                                        force-precision-length = "false"
                                        include-blank="true"
                                        include-negative = "true"
                                        input-model-value="M_AddEditUO.tempFactory.TotalCost" />
                    </div>
                </div>
                <div class="col-sm-1 add-pricing-flag" ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor">
                    <bp-flag currencyCode = "{{M_AddEditUO.CurrencyCode}}"></bp-flag>
                </div>
                <div ng-class="{'col-sm-3': M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor, 'col-sm-4': !M_AddEditUO.IsForeignExchangeCostingEnabled || !M_AddEditUO.IsForeignVendor}">
                    <button class="bp-btn" ng-click = "F_AddEditUO.createBasePrice()" ng-disabled="F_AddEditUO.disablePricing()">{!$Label.ADD_PRICING}</button>
                </div>
            </div>
              <div class="row lr-pad-100 general-editable-info-wrapper MB15" ng-if = "!M_AddEditUO.isEditMode">
                <div class="col-sm-6 ">
                        <div class="form-input" >
                            <label class="bp-label">{{ 'Applicable_tax_Label' | translate }}</label>
                            <span class = "bp-editmode-text" ng-if = " M_AddEditUO.unitRec.ApplicableTaxName != ''">{{M_AddEditUO.unitRec.ApplicableTaxName}}</span>
                            <span class = "bp-editmode-text noTexSelected" ng-if = " M_AddEditUO.unitRec.ApplicableTaxName == ''">None{{ '' | translate }}</span>
                        </div>
             </div>
            </div>
            <div class="lr-pad-100 general-editable-info-wrapper multi-select-drop-down-wrapper" ng-if = "M_AddEditUO.isEditMode && M_AddEditUO.IsUnitPricingEnabledForMake && M_AddEditUO.tempUnitDefaultFOPTMsg != 'Default factory options not defined'">
                <div class="multi-select-container">
                    <label class="print-item-label">Select default factory options</label>
                    <multi-select is-justify-content="true" result-list = "M_AddEditUO.factoryOptionDefaultList" type = "factory option" message-text = "M_AddEditUO.tempUnitDefaultFOPTMsg"/> 
                </div>
                <div class="add-selected-btn-container">
                    <button class="bp-btn save-btn bp-btn-normal" ng-click = "F_AddEditUO.addSelectedFactoryOption()" ng-disabled = "!M_AddEditUO.selectedFactoryOptionListID.length || M_AddEditUO.selectedFactoryOptionListID.length == 0" ng-class = "{'active-add-selected-btn':M_AddEditUO.selectedFactoryOptionListID.length > 0}">
                        Add selected
                    </button>
                </div>
            </div>
            <div class="PriceAndCostTableWrapper table-responsive" ng-class = "{'marginTop37' : !M_AddEditUO.isEditMode }" ng-if = "M_AddEditUO.PriceAndCostTrackingWrapperList.length > 0">
                <table class = "bp-editable-table activeOrdersGrid">
                    <col width="10"  />
                    <col width="54%" ng-if="!M_AddEditUO.IsForeignExchangeCostingEnabled || !M_AddEditUO.IsForeignVendor || !M_AddEditUO.vendorType.VendorName" />
                    <col width="49%" ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName" />
                    <col width="10%"  />
                    <col width="10%" ng-if="!M_AddEditUO.IsForeignExchangeCostingEnabled || !M_AddEditUO.IsForeignVendor || !M_AddEditUO.vendorType.VendorName" />
                    <col width="15%" ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName" />
                    <col width="10%"  />
                    <col width="6%"  />
                    <thead>
                    <tr>
                        <th class = "bp-text-uppercase">{{ 'Label_Type' | translate }}</th>
                        <th class = "bp-text-uppercase">{{ 'ITEM_DESCRIPTION_Label' | translate }}</th>
                        <th class = "bp-text-uppercase">{{ 'TOTAL_PRICE' | translate }}</th>
                        <th class = "bp-text-uppercase">{{ 'Total_Cost' | translate }}</th>
                        <th class = "bp-text-uppercase">Taxable</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat = "priceUnitRec in M_AddEditUO.PriceAndCostTrackingWrapperList" class = "bp-expanded-deletable-div-transition"
                        ng-class = "{'bp-border-bottom' : !GroupOnlyPermissions['Unit ordering']['create/modify'] || M_AddEditUO.unitRec.Status == 'Cancelled' || M_AddEditUO.unitRec.Status == 'Received'}" id = "unitPriceAndCostGrid_{{priceUnitRec.Id}}">
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor == $index}"> 
                                <span>{{priceUnitRec.Type}}</span>
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor == $index}">
                                <span ng-if = "M_AddEditUO.isEdit != $index || priceUnitRec.Type == 'Base'">{{priceUnitRec.ItemDescription}}</span>
                                <span ng-if = "M_AddEditUO.isEdit == $index && priceUnitRec.Type != 'Base'"><input type = "text" class = "bp-input-text" ng-model = "priceUnitRec.ItemDescription" /></span>
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor == $index}">
                                <span ng-if = "M_AddEditUO.isEdit != $index">{{priceUnitRec.TotalPrice | currency}}</span>
                                 <span ng-if = "M_AddEditUO.isEdit == $index">
                                 <numbers-only 
                                        class-value="bp-input-text"
                                        max-length="10"
                                        precision-length = "2"
                                        id-value="totalPriceUnit_{{$index}}"
                                        force-precision-length = "false"
                                        include-blank="true"
                                        include-negative = "true"
                                        input-model-value="priceUnitRec.TotalPrice" 
                                        input-keyup-value = 'F_AddEditUO.calculateTotalValue()'/>
                                </span>
                                
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor == $index}">
                                <span ng-if = "M_AddEditUO.isEdit != $index">{{priceUnitRec.TotalCost | currency}}
                                    <bp-flag ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName" class="FX-flag-input" currencyCode = "{{M_AddEditUO.CurrencyCode}}"></bp-flag>
                                </span>
                                 <span class="total-cost-input" ng-if = "M_AddEditUO.isEdit == $index">
                                 <numbers-only 
                                        class-value="bp-input-text"
                                        max-length="10"
                                        precision-length = "2"
                                        id-value="totalCostUnit_{{$index}}"
                                        force-precision-length = "false"
                                        include-blank="true"
                                        include-negative = "true"
                                        input-model-value="priceUnitRec.TotalCost" 
                                        input-keyup-value = 'F_AddEditUO.calculateTotalValue()'/>
                                        <bp-flag ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName" class="FX-flag-input" currencyCode = "{{M_AddEditUO.CurrencyCode}}"></bp-flag>
                                </span>
                                
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor == $index}">
                                <label class="bp-switch appointentsswitch">
                                    <input ng-model="priceUnitRec.Taxable" type="checkbox" ng-click="F_AddEditUO.savePriceUnitLineItem($event, $index)" ng-if="M_AddEditUO.isEdit != $index"/>
                                    <input ng-model="priceUnitRec.Taxable" type="checkbox" ng-if="M_AddEditUO.isEdit == $index"/>
                                    <div class="bp-slider round"></div>
                                </label>
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor == $index}">
                                <i ng-click = "F_AddEditUO.editPriceAndCostLineItem($index)" 
                                    ng-if = "GroupOnlyPermissions['Unit ordering']['create/modify'] && M_AddEditUO.isEdit != $index && M_AddEditUO.unitRec.Status != 'Cancelled' && M_AddEditUO.unitRec.Status != 'Received'" 
                                    class="bp-icons bp-font-14 bp-light-grey1-font bp-cursor-pointer" data-toggle="tooltip" title="{{ 'Edit_Label' | translate }}">edit</i>
                               <a class="save-btn" ng-click = "F_AddEditUO.savePriceUnitLineItem($event, $index)" ng-if="M_AddEditUO.isEdit == $index">{{ 'Save_Label' | translate }}</a>
                               
                                <i ng-if = "GroupOnlyPermissions['Unit ordering']['create/modify'] && priceUnitRec.Type != 'Base' && M_AddEditUO.unitRec.Status != 'Cancelled' && M_AddEditUO.unitRec.Status != 'Received'" 
                                   class="bp-icons bp-font-14 bp-light-grey1-font bp-cursor-pointer trDeleteBtn" ng-click = "F_AddEditUO.openPriceAndCostDeleteConfirmationPopup(priceUnitRec.Id, 'unitPriceAndCostGrid_'+ priceUnitRec.Id)" data-toggle="tooltip" title="{{ 'Delete_Label' | translate }}">delete</i>
                            </td>
                        </tr>
                           <tr class = "newFactoryOption" ng-if = "M_AddEditUO.showFactoryOptionRec">
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor ==  M_AddEditUO.PriceAndCostTrackingWrapperList.length}"> 
                                <span>{{ 'Factory' | translate }}</span>
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor ==  M_AddEditUO.PriceAndCostTrackingWrapperList.length}" >
                                <input type = "text" class = "bp-input-text" placeholder = "{{ 'Placeholder_item_description' | translate }}" id = "factoryOptionId" ng-model = "M_AddEditUO.tempFactory.ItemDescription" maxlength="255"/>
                            </td>
                           <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor ==  M_AddEditUO.PriceAndCostTrackingWrapperList.length}">
                                 <numbers-only 
                                        class-value="bp-input-text"
                                        max-length="10"
                                        precision-length = "2"
                                        force-precision-length = "false"
                                        include-blank="true"
                                        include-negative = "true"
                                        input-model-value="M_AddEditUO.tempFactory.TotalPrice" 
                                        input-keyup-value = 'F_AddEditUO.calculateTotalValue()'/>
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor ==  M_AddEditUO.PriceAndCostTrackingWrapperList.length}">
                                <span class="total-cost-input">
                                <numbers-only 
                                        class-value="bp-input-text"
                                        max-length="10"
                                        precision-length = "2"
                                        force-precision-length = "false"
                                        include-blank="true"
                                        include-negative = "true"
                                        input-model-value="M_AddEditUO.tempFactory.TotalCost"
                                        input-keyup-value = 'F_AddEditUO.calculateTotalValue()'/>
                                    <bp-flag ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName" class="FX-flag-input" currencyCode = "{{M_AddEditUO.CurrencyCode}}"></bp-flag>
                                </span>
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor ==  M_AddEditUO.PriceAndCostTrackingWrapperList.length}">
                                <label class="bp-switch appointentsswitch">
                                    <input ng-model="M_AddEditUO.tempFactory.Taxable" type="checkbox"/>
                                    <div class="bp-slider round"></div>
                                </label>
                            </td>
                            <td ng-class = "{'setBgColor' : M_AddEditUO.setBgColor ==  M_AddEditUO.PriceAndCostTrackingWrapperList.length}">
                               <a class="save-btn" ng-click = "F_AddEditUO.savePriceUnitLineItem($event)" ng-if="M_AddEditUO.isEdit == M_AddEditUO.PriceAndCostTrackingWrapperList.length">{!$Label.Save_Label}</a>
                               <i class="bp-icons bp-font-14 bp-light-grey1-font bp-cursor-pointer" ng-click = "F_AddEditUO.deleteFactortoption()" data-toggle="tooltip" title="{{ 'Delete_Label' | translate }}">delete</i>
                            </td>
                        </tr>
                         <tr class = "newTotalRow" ng-if = "M_AddEditUO.PriceAndCostTrackingWrapperList.length > 1" 
                             ng-class = "{'bp-border-bottom' : !GroupOnlyPermissions['Unit ordering']['create/modify'] || M_AddEditUO.unitRec.Status == 'Cancelled' || M_AddEditUO.unitRec.Status == 'Received'}">
                            <td> 
                                <span>{{ 'Label_Total' | translate }}</span>
                            </td>
                            <td></td>
                            <td>{{M_AddEditUO.totalPriceForPriceAndCost | currency}}</td>
                            <td>{{M_AddEditUO.unitRec.TotalCost | currency}} 
                                <bp-flag ng-if="M_AddEditUO.IsForeignExchangeCostingEnabled && M_AddEditUO.IsForeignVendor && M_AddEditUO.vendorType.VendorName" class="FX-flag" currencyCode = "{{M_AddEditUO.CurrencyCode}}"></bp-flag>
                            </td>
                            <td>
                               
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="orderNewUnitfootr"  
                ng-if = "GroupOnlyPermissions['Unit ordering']['create/modify'] && M_AddEditUO.PriceAndCostTrackingWrapperList.length > 0 && M_AddEditUO.unitRec.Status != 'Cancelled' && M_AddEditUO.unitRec.Status != 'Received'">
                <div class="bp-grid-column createNewunit">
                    <a  ng-click = "F_AddEditUO.cteareFactoryOption()"><i class="bp-icons bp-font-18 bp-blue-font bp-cursor-pointer">addCircle</i>Add a factory option</a>
                </div>
            </div>
        </div>
        <h3 class="section-heading">{{ 'Additional_information' | translate }}</h3>
        
         <div class="general-info-wrapper bp-noBorder"  ng-if = "M_AddEditUO.isEditMode">
            <div class="row lr-pad-100">
                <div class="col-md-6 ">
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Cylinders.isPrimary">
                        <label class="bp-label">{{ 'Cylinders' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper">
                            <numbers-only 
                                class-value="bp-input-text searchInput"
                                id-value="CylindersUnitOrdering"
                                place-holder-value="{{ 'Placeholder_cylinder' | translate }}"
                                max-length="2"
                                include-blank="true"
                                input-model-value="M_AddEditUO.unitRec.Cylinders" 
                                blur-value = "F_AddEditUO.selectCylinders(M_AddEditUO.unitRec.Cylinders)"/>
                        </div>
                    </div>
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Displacement.isPrimary">
                        <label class="bp-label">{{ 'Displacement' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" >
                            <numbers-only 
                                class-value="bp-input-text searchInput"
                                id-value="DisplacementUnitOrdering"
                                place-holder-value="{{ 'Placeholder_displacement' | translate }}"
                                max-length="6"
                                include-blank="true"
                                input-model-value="M_AddEditUO.unitRec.Displacement" />
                        </div>
                    </div>
                     <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.EngineSerialNo.isPrimary">
                        <label class="bp-label">{{ 'Engine_serial_number' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" >
                            <input  type="text" id="EngineSerialUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_engine_serial_number' | translate }}"
                                autocomplete="off" maxlength="40" ng-model="M_AddEditUO.unitRec.EngineSerialNo"
                                />
                        </div>
                    </div>
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.InteriorColour.isPrimary">
                        <label class="bp-label">{{ 'Interior_colour_Label' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" >
                        <input  type="text" id="InteriorColourUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_color' | translate }}"
                            autocomplete="off" maxlength="20" ng-model="M_AddEditUO.unitRec.InteriorColour"
                            />
                    </div>
                    </div>
                    <div class="row lr-pad-10" ng-if = "M_AddEditUO.AdditionalFieldsInfo.TransmissionType.isPrimary">
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Transmission_type' | translate }}</label>
                                <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class="{'showingOverlay' : M_AddEditUO.showTransmissionTypes }">
                                    <input  type="text" id="TransmissionTypeUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Please_select' | translate }}"
                                        autocomplete="off" ng-focus="M_AddEditUO.showTransmissionTypes = true" ng-blur="M_AddEditUO.showTransmissionTypes = false"
                                        ng-model="M_AddEditUO.unitRec.TransmissionType" />
                                    <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('TransmissionTypeUnitOrdering')">arrowDown</i>
                                    <div class="searchResultOverlay" id="TransmissionTypeUnitOrderingScrollDiv">
                                        <ul>
                                            <li ng-repeat="type in M_AddEditUO.TransmissionTypeList" ng-mousedown="F_AddEditUO.selectTansmissionType(type)">
                                                <div class="fullName">{{type}}</div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Gears' | translate }}</label>
                                <div class="bp-cell  searchInputArea makeSeachingWrapper">
                                    <numbers-only 
                                        class-value="bp-input-text searchInput"
                                        id-value="GearsUnitOrdering"
                                        place-holder-value="{{ 'Placeholder_gear_number' | translate }}"
                                        max-length="2"
                                        include-blank="true"
                                        disabled-value = "M_AddEditUO.unitRec.TransmissionType != 'Manual'"
                                        input-model-value="M_AddEditUO.unitRec.Gears" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.AssignedTags.isPrimary">
                        <label class="bp-label">{{ 'Tags' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showTagsList }">
                            <input  type="text" id="TagsUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_tags' | translate }}"
                                autocomplete="off" ng-focus = "F_AddEditUO.getTagsList()" ng-blur = "F_AddEditUO.hideTagsList()"
                                ng-model="M_AddEditUO.TagNameStr"
                                ng-keyup="F_AddEditUO.keyBoardavigation($event, M_AddEditUO.ActiveTagList, 'tag')" />
                             <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('TagsUnitOrdering')">arrowDown</i>
                            <div class="searchResultOverlay" id="tagDropDownDiv">
                                <ul>
                                    <li ng-repeat="tag in M_AddEditUO.FilteredTagList = (M_AddEditUO.ActiveTagList | orderBy:'Name' | filter:{'Name' : M_AddEditUO.TagNameStr})"
                                        ng-mousedown="F_AddEditUO.selectTag(tag)"
                                        ng-class="{'selected-row': $index == M_AddEditUO.tagCurrentIndex}"
                                        id="tag{{$index}}">
                                        <div class="fullName">{{tag.Name}}</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                             <div class="unitOrdertag ">
                                    <ul class="tag-ul-list">
                                        <li class="tag-list" ng-repeat="tag in M_AddEditUO.unitRec.AssignedTags">
                                            <span class="tag-name-span">{{tag}}
                                                <i class="bp-icons bp-font-9 stroke-3 cross-icon" data-toggle="tooltip" title="{{ 'Label_Remove' | translate }}" ng-click="F_AddEditUO.removeTag(tag, $index)">close</i>
                                            </span>
                                        </li>
                                    </ul>
                             </div>
                 <div class="form-input" ng-repeat = "rec in M_AddEditUO.ExtraFieldJSON" ng-if = "M_AddEditUO.AdditionalFieldsInfo[rec.FieldName.split(' ').join('')].isPrimary">
                        <label class="bp-label">{{rec.DisplayLabel}}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" >
                        <input  type="text" id="rec.FieldName.split(' ').join('')" class="bp-input-text searchInput" placeholder="{{rec.DisplayLabel}}"
                            autocomplete="off" maxlength="1500" ng-model="M_AddEditUO.unitRec[rec.FieldName.split(' ').join('')]"
                            />
                </div>
                </div>
                </div>
                <div class="col-md-6">
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.KeyNo.isPrimary">
                        <label class="bp-label">{{ 'Key_number' | translate }}</label>
                        <input  type="text" id="KeyNumberUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_key_number' | translate }}"
                                autocomplete="off" maxlength="40" ng-model="M_AddEditUO.unitRec.KeyNo"
                                />
                    </div>
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Location.isPrimary">
                        <label class="bp-label">{{ 'Label_Location' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper">
                            <input  type="text" id="KeyNumberUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_location' | translate }}"
                                ng-model="M_AddEditUO.unitRec.Location" autocomplete="off"
                                />
                        </div>
                    </div>
                     <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.ManufacturedDate.isPrimary">
                        <label class="bp-label">{{ 'Manufacture_date' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper">
                           <div class="datePickerWrappercontainer">    
                                <input type="text" class="date-picker" id="ManufacturedDateUnitOrdering" placeholder="{{M_AddEditUO.dateFormat}}" 
                                ng-model="M_AddEditUO.unitRec.ManufacturedDate" end-date="M_AddEditUO.ManufactureDateOptions.maxDate" date-format="M_AddEditUO.dateFormat"  
                                datepicker = "datepicker" autocomplete="off" readonly = "readonly" 
                                    />
                            </div>
                        </div>
                    </div>
                    <div class="row lr-pad-10" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Mileage.isPrimary">
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Label_Mileage' | translate }}</label>
                                <div class="bp-cell  searchInputArea makeSeachingWrapper">
                                    <numbers-only 
                                        class-value="bp-input-text searchInput"
                                        id-value="MileageUnitOrdering"
                                        place-holder-value="{{ 'Placeholder_mileage' | translate }}"
                                        max-length="6"
                                        precision-length = "1"
                                        force-precision-length = "false"
                                        include-blank="true"
                                        input-model-value="M_AddEditUO.unitRec.Mileage" />
                                </div>
                    </div>
                        </div>
                        <div class="col-xs-6">
                            <div class="form-input">
                                <label class="bp-label">{{ 'Mileage_type' | translate }}</label>
                                <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class="{'showingOverlay' : M_AddEditUO.showMileageTypes }">
                                    <input  type="text" id="MileageTypeUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Mileage_type' | translate }}"
                                        autocomplete="off" ng-focus="M_AddEditUO.showMileageTypes = true" ng-blur="M_AddEditUO.showMileageTypes = false"
                                        ng-model="M_AddEditUO.unitRec.MileageType" />
                                    <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('MileageTypeUnitOrdering')">arrowDown</i>
                                    <div class="searchResultOverlay" id="MileageTypeUnitOrderingScrollDiv">
                                        <ul>
                                            <li ng-repeat="type in M_AddEditUO.MileageTypeList" ng-mousedown="F_AddEditUO.selectMileageType(type)">
                                                <div class="fullName">{{type}}</div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.OtherSerialNo.isPrimary">
                        <label class="bp-label">{{ 'Other_serial_number' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper">
                            <input  type="text" maxLength="40" id="serialUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_other_serial_number' | translate }}"
                                autocomplete="off" ng-model="M_AddEditUO.unitRec.OtherSerialNo"
                                />
                        </div>
                    </div>
                     <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Plate.isPrimary">
                        <label class="bp-label">{{ 'Plate_Registration_number' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper">
                            <input  type="text" id="registrationUnitOrdering" class="bp-input-text searchInput" placeholder="{{ 'Placeholder_reg_number' | translate }}"
                                autocomplete="off" maxLength="20" ng-model="M_AddEditUO.unitRec.Plate"
                                />
                        </div>
                    </div>
                     <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.RegExpiryDate.isPrimary">
                        <label class="bp-label">{{ 'Registration_expiry_date' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper">
                           <div class="datePickerWrappercontainer">
                                <input type="text" class="date-picker" id="RegExpiryDateUnitOrdering" placeholder="{{M_AddEditUO.dateFormat}}" 
                                        ng-model="M_AddEditUO.unitRec.RegExpiryDate" date-format="M_AddEditUO.dateFormat"  
                                        start-date = "M_AddEditUO.expiryDateOptions.minDate" datepicker = "datepicker" autocomplete="off" readonly = "readonly" 
                                    />
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.ComplianceDate.isPrimary">
                        <label class="bp-label">{{ 'Compliance_date' | translate }}</label>
                        <input type="text" class="bp-input-text" placeholder="Enter compliance date"
                                    ng-model="M_AddEditUO.unitRec.ComplianceDate" maxlength="10" />
                </div>
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.YearOf1stRego.isPrimary">
                        <label class="bp-label">{{ 'Year_of_1st_rego' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showYearof1stRegoYears }">
                                    <input  type="text" id="Yearof1stRegoUnitOrdering" class="bp-input-text searchInput" placeholder="Select year of 1st rego"
                                        autocomplete="off" ng-focus="M_AddEditUO.showYearof1stRegoYears = true" ng-blur="M_AddEditUO.showYearof1stRegoYears = false"
                                        readonly="readonly" ng-model="M_AddEditUO.unitRec.YearOf1stRego" />
                                    <i class="bp-icons bp-font-14 bp-blue-font bp-cursor-pointer stroke-5 downArrow MT-3" ng-click = "F_AddEditUO.setFocusOnElement('Yearof1stRegoUnitOrdering')">arrowDown</i>
                                    <div class="searchResultOverlay" id="SelectUnitOrderingYearof1stRegoScrollDiv">
                                        <ul>
                                            <li ng-repeat="yearValue in M_AddEditUO.Years" ng-mousedown="F_AddEditUO.selectUnitYear(yearValue.year,'Yearof1stRego')">
                                                <div class="fullName">{{yearValue.year}}</div>
                                            </li>
                                        </ul>
            </div>
        </div>

                    </div>
                    <div class="form-input" ng-if = "M_AddEditUO.AdditionalFieldsInfo.RegistrationSerial.isPrimary">
                        <label class="bp-label">{{ 'Registration_serial' | translate }}</label>
                        <input type="text" class="bp-input-text" placeholder="Enter registration serial#"
                                    ng-model="M_AddEditUO.unitRec.RegistrationSerial" maxlength="10" />
                    </div>
                </div>
            </div>
        </div>
        
         <div class="general-info-wrapper bp-noBorder general-editable-info-wrapper"  ng-if = "!M_AddEditUO.isEditMode">
            <div class="row lr-pad-100">
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Category.isPrimary">
                        <label class="bp-label">{{ 'SalesTaxGridItem_Category' | translate }}</label>
                         <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.CategoryName}}</span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Cylinders.isPrimary">
                        <label class="bp-label">{{ 'Cylinders' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.Cylinders}}</span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Displacement.isPrimary">
                        <label class="bp-label">{{ 'Displacement' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.Displacement}}</span>
                    </div>
                     <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.EngineSerialNo.isPrimary">
                        <label class="bp-label">{{ 'Engine_serial_number' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.EngineSerialNo}}</span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.InteriorColour.isPrimary">
                        <label class="bp-label">{{ 'Interior_colour_Label' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.InteriorColour}}</span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.TransmissionType.isPrimary">
                         <label class="bp-label">{{ 'Transmission_type' | translate }}</label>
                         <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.TransmissionType}}<span class = "bp-editmode-text" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Gears.isPrimary"> - {{M_AddEditUO.unitRec.Gears}}</span></span>
                          
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.AssignedTags.isPrimary">
                        <label class="bp-label">{{ 'Tags' | translate }}</label>
                        <div class="bp-cell  searchInputArea makeSeachingWrapper tagWrapper" ng-class = "{'showingOverlay' : M_AddEditUO.showTagsList }">
                             <div class="unitOrdertag ">
                                    <ul class="tag-ul-list" ng-repeat = "tagName in M_AddEditUO.unitRec.AssignedTags">
                                        <li class="tag-list">
                                            <span class="tag-name-span">{{tagName}}
                                           </span>
                                        </li>
                                    </ul>
                             </div>
                        
                        </div>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.KeyNo.isPrimary">
                        <label class="bp-label">{{ 'Key_number' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.KeyNo}} </span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Location.isPrimary">
                        <label class="bp-label">{{ 'Label_Location' | translate }}</label>
                         <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.Location}} </span>
                    </div>
                     <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.ManufacturedDate.isPrimary">
                        <label class="bp-label">{{ 'Manufacture_date' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.ManufacturedDate}} </span>
                    </div>
                      <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Mileage.isPrimary">
                        <label class="bp-label">{{ 'Label_Mileage' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.Mileage}} {{M_AddEditUO.unitRec.MileageType}}</span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.OtherSerialNo.isPrimary">
                        <label class="bp-label">{{ 'Other_serial_number' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.OtherSerialNo}} </span>
                    </div>
                     <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.Plate.isPrimary">
                        <label class="bp-label">{{ 'Plate_Registration_number' | translate }}</label>
                       <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.Plate}} </span>
                    </div>
                     <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.RegExpiryDate.isPrimary">
                        <label class="bp-label">{{ 'Registration_expiry_date' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.RegExpiryDate}}</span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.ComplianceDate.isPrimary">
                        <label class="bp-label">{{ 'Compliance_date' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.ComplianceDate}}</span>
                </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.YearOf1stRego.isPrimary">
                        <label class="bp-label">{{ 'Year_of_1st_rego' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.YearOf1stRego}}</span>
                    </div>
                    <div class="form-input bp-viewModeAddEditField" ng-if = "M_AddEditUO.AdditionalFieldsInfo.RegistrationSerial.isPrimary">
                        <label class="bp-label">{{ 'Registration_serial' | translate }}</label>
                        <span class = "bp-editmode-text">{{M_AddEditUO.unitRec.RegistrationSerial}}</span>
                    </div>
                	 <div class="form-input bp-viewModeAddEditField" ng-repeat = "rec in M_AddEditUO.ExtraFieldJSON" ng-if = "M_AddEditUO.AdditionalFieldsInfo[rec.FieldName.split(' ').join('')].isPrimary">
                         <label class="bp-label">{{rec.DisplayLabel}}</label>
                         <span class = "bp-editmode-text bp-set-text-ellipses" data-toggle="tooltip" title="{{M_AddEditUO.unitRec[rec.FieldName.split(' ').join('')]}}">{{M_AddEditUO.unitRec[rec.FieldName.split(' ').join('')]}}</span>
                          
                </div>
                
                
                </div>
        </div>
        
        
        
        <ul class="additional-information-buttons" ng-if = "M_AddEditUO.isEditMode">
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.Cylinders.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('Cylinders')" ><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Cylinders' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.Displacement.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('Displacement')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Displacement' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.EngineSerialNo.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('EngineSerialNo')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Engine_serial_number' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.InteriorColour.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('InteriorColour')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Interior_colour_Label' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.TransmissionType.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('TransmissionType')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Transmission_type' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.AssignedTags.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('AssignedTags')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Tags' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.KeyNo.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('KeyNo')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Key_number' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.Location.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('Location')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Label_Location' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.ManufacturedDate.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('ManufacturedDate')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Manufacture_date' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.Mileage.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('Mileage')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Label_Mileage' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.OtherSerialNo.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('OtherSerialNo')"><a><i class="bp-icons bp-font-16">addCircle</i>  {{ 'Other_serial_number' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.Plate.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('Plate')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Plate_reg_number' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.RegExpiryDate.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('RegExpiryDate')"><a><i class="bp-icons bp-font-16">addCircle</i>  {{ 'Reg_Expiry_Date' | translate }}</a></li>
        	<li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.ComplianceDate.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('ComplianceDate')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Compliance_date' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.YearOf1stRego.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('YearOf1stRego')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Year_of_1st_rego' | translate }}</a></li>
            <li ng-if = "!M_AddEditUO.AdditionalFieldsInfo.RegistrationSerial.isPrimary" ng-click = "F_AddEditUO.showAdditionalField('RegistrationSerial')"><a><i class="bp-icons bp-font-16">addCircle</i> {{ 'Registration_serial' | translate }}</a></li>
        	<li ng-repeat = "rec in M_AddEditUO.ExtraFieldJSON" ng-if = "!M_AddEditUO.AdditionalFieldsInfo[rec.FieldName.split(' ').join('')].isPrimary" ng-click = "F_AddEditUO.showAdditionalField(rec.FieldName.split(' ').join(''))"><a><i class="bp-icons bp-font-16">addCircle</i> {{rec.DisplayLabel}}</a></li>
        </ul>
    </div>
    <div class="AddEditUnitfotter"
        ng-class = "{'bp-fotter-btnshow': F_AddEditUO.isUnSavedChanges()}">
        <div class="MR85">
                <button class="c-btn c-ternary-btn " ng-if = "!M_AddEditUO.isURLContainsUnitId || M_AddEditUO.isRequiredUnitClicked"
                    ng-click="F_AddEditUO.saveAddEditUnitRecord(true)"
                >{{ 'Create_single_order' | translate }}</button>
                <button class="c-btn c-ternary-btn " ng-if = "!M_AddEditUO.isURLContainsUnitId && !M_AddEditUO.isRequiredUnitClicked" ng-click = "F_AddEditUO.OpenBulkOrderModalWindow()">{{ 'Bulk_order' | translate }}</button>
                <button class=" c-btn c-cancel-btn" ng-if = "M_AddEditUO.isURLContainsUnitId && !M_AddEditUO.isRequiredUnitClicked"
                    ng-click="F_AddEditUO.addEditUnitOrderViewModeEnable()"
                >{{ 'Cancel_Label' | translate }}</button>
                <button class="c-btn c-ternary-btn" ng-if = "M_AddEditUO.isURLContainsUnitId && !M_AddEditUO.isRequiredUnitClicked"
                    ng-click="F_AddEditUO.saveAddEditUnitRecord()"
                >{{ 'Save_Label' | translate }}</button>
        </div>
    </div>
      <div class="AddEditUnitfotter bp-fotter-btnshow" 
        ng-if = "GroupOnlyPermissions['Unit ordering']['create/modify'] && !M_AddEditUO.isEditMode && M_AddEditUO.unitRec.Status != 'Cancelled' && M_AddEditUO.unitRec.Status != 'Received' && M_AddEditUO.unitRec.Status != undefined" >
        	<div class="MR85">	
                <button class="c-btn c-ternary-btn " ng-click="F_AddEditUO.printUnitRecord()">{{ 'Print_Label' | translate }}</button>
                <button class="c-btn c-ternary-btn " ng-click="F_AddEditUO.editAddEditUnitRecord()">{{ 'Edit_Label' | translate }}</button>
                <button  class="c-btn c-ternary-btn " ng-disabled="M_AddEditUO.unitRec.TotalCost == 0" ng-click="F_UO.MoveToState('UnitOrdering.AddeditUnitOrder.UnitReceivingDialog', M_AddEditUO.vendorId)" >{{ 'Receive' | translate }}</button>
                <button  class="c-btn c-ternary-btn "  ng-click="F_AddEditUO.OpenBulkOrderModalWindow()" >{{ 'Order_more' | translate }}</button>
            </div>
      </div> 
     
     <div class="deleteConfiramtionPopup">
        <div class="heading">{{ 'Are_you_sure_delete_item_permanently' | translate }}?</div>
        <div class="deletePopupActionBtns">
            <button class="bp-btn deleteBtn" ng-click = "F_AddEditUO.deletePriceAndCost()">{{ 'Delete_Label' | translate }}</button>
            <button class="bp-btn cancelBtn" ng-click = "F_AddEditUO.hidePriceAndCostDeleteConfirmationPopup()">{{ 'Cancel_Label' | translate }}</button>
        </div>
     </div>
     <div class="fadein viewA" ui-view="UnitReceiving" autoscroll='false'></div>
     <bp-ng-modal-window id-val="bulkOrderModalWindow" disable-primary-action = "M_AddEditUO.numberOfUnits > 50" mobal-window-payload="M_AddEditUO.ModalWindowPayload" cancel-btn-action="M_AddEditUO.hideModalWindow('bulkOrderModalWindow');" primary-btn-action="M_AddEditUO.loadBulkData()">
        <p class="delete-info" ng-if="!M_AddEditUO.isAllowBulkOrdering && M_AddEditUO.bulkDataUploadResult.responseStatus != 'Error'">
            {{ 'Cannot_bulk_order_when_a_VIN_or_Stock_number_has_been_specified' | translate }} 
        </p>
        <div class="delete-info c-sub-heading banner-container coral-light2 MB20" ng-if="M_AddEditUO.bulkDataUploadResult.responseStatus == 'Error' && M_AddEditUO.isAllowBulkOrdering">
            <i class="bp-icons bp-font-18 bp-red-font MT-3">warningFilled</i>
            <div>
                <p>{{M_AddEditUO.bulkDataUploadResult.response}}</p>
            </div>
        </div>
        <div  class="delete-info" ng-if="M_AddEditUO.isAllowBulkOrdering">
           <p ng-if = "M_AddEditUO.bulkDataUploadResult.responseStatus != 'Error'"> {{'You_are_ordering_the_following_unit' | translate}} </p>
            <div class="unit-info">
                <span>{{M_AddEditUO.unitRec.Condition}}</span>
                <span>{{M_AddEditUO.UnitMakeName}}</span>
                <span>{{M_AddEditUO.unitRec.ModelName}}</span>
                <span>{{M_AddEditUO.unitRec.SubModelName}}</span>
                <span>{{M_AddEditUO.unitRec.Year}}</span>
                <span><span ng-if="M_AddEditUO.unitRec.ExteriorColour" class="comma">,</span>{{M_AddEditUO.unitRec.ExteriorColour}}</span>
            </div>
            <div class="input-container">
                <label>{{ 'How_many_of_this_unit_are_you_ordering' | translate }}?</label>
                <numbers-only 
                                        class-value="c-secondary-input  c-input-search"
                                        max-length="50"
                                        include-blank="true"
                                        input-model-value="M_AddEditUO.numberOfUnits"
                                        id-value="bulkHandlingInputId" 
                                        disabled-value ="M_AddEditUO.bulkDataUploadResult.responseStatus == 'Error'"/>
                <span ng-if = "M_AddEditUO.numberOfUnits > 50" class="error-message">{{'Cannot_order_more_than_50_units' | translate}}</span>
            </div>
        </div>
    </bp-ng-modal-window>
</apex:page>