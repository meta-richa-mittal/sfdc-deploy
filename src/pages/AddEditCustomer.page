<apex:page standardStylesheets="false" showChat="false" showHeader="false" sidebar="false" docType="html-5.0"
    controller="GlobalController">   
    <!-- <apex:stylesheet value="{!Application}/css/AddEditCustomer.css"/> -->
    <div>
        <div  id="pop" class="modal fade newaddEditCustomer" ng-cloak="ng-cloak" ng-if="!isRouteLoading">
            <div class="modal-dialog" ng-class="{'edit_modal-dialog' : CustomerModal.IsEditMode == true}">
                <div class="modal-content">
                    <div class="modal-body popup_container"
                        style="width: 100% !important; left: 1% !important;">
                        <div class="popupinside">
                            <div class="Customer-Suggestion-overlay">
                                <div>
                                    <div class="text">{{ 'Insert_Customer_To_Customer_Order' | translate }}</div>
                                    <button class="square-btn greenBtn pull-right"
                                        ng-click="CustomerModal.AddSimilarCustomer()">{{ 'Label_Select' | translate }}</button>
    
                                </div>
                            </div>
    
                            <div class="ConfirmBox-overlay" id="deactiveCustomerConfirm">
                                <div>
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" aria-label="Close"
                                                ng-click="CustomerModal.DeactiveCustomer(false)">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                            <h4 class="modal-title">{{ 'Label_Confirm' | translate }} {{ 'Label_Inactive' | translate }} {{ 'Label_Status' | translate }}</h4>
                                        </div>
                                        <div class="modal-body">
                                            <p>{{ 'Text_Deactivate_Customer' | translate }}</p>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-primary"
                                                ng-click="CustomerModal.DeactiveCustomer(true)">{{ 'Label_Yes' | translate }}</button>
                                            <button type="button" class="btn btn-default"
                                                ng-click="CustomerModal.DeactiveCustomer(false)">{{ 'Label_No' | translate }}</button>
                                        </div>
                                    </div>
    
    
                                </div>
                            </div>
    
                            <div class="popupleft col-lg-4 col-lg-4" ng-show="CustomerModal.IsEditMode != true">
                                <div class="popupleft_container" id="topsection"
                                    ng-show="CustomerModal.IsEditMode == false || CustomerModal.SimilarCustomers == []">
                                    <h1 class="letpanel_heading">{{ 'Label_Existing' | translate }} {{ 'Customer_Object_Display_Label' | translate }} {{ 'Label_Like_This' | translate }}</h1>
                                    <i class="fa fa-question-circle helptip"
                                        style="float: left; font-weight: bold; color: #B7BEC6; margin-top: 20px; margin-bottom: 10px; font-size: 20px;"></i>
                                    <div class="goldbox col-lg-12 col-md-12"
                                        ng-repeat="SimilarCustomer in CustomerModal.SimilarCustomers">
                                       
                                        <div class="rightgoldbox rightgoldboxML" id="CustomerSugesstionDiv{{$index}}" style="margin-left: 0px;"
                                            ng-mouseover="CustomerModal.showInfoOverlay('CustomerSugesstionDiv',$index)"
                                            ng-mouseleave="CustomerModal.hideCustomerInfoOverlay();">
                                            <div ng-show="SimilarCustomer.Type == 'Individual'">
    
                                                <p class="cust_name">{{SimilarCustomer.CustomerName }}</p>
                                                <p>{{SimilarCustomer.HomeEmail}}</p>
                                                <p>{{SimilarCustomer.HomeNumber}}</p>
                                                <p style="margin-top: 10px;">CUSTOMER ({{SimilarCustomer.Type}})</p>
                                            </div>
                                            <div ng-show="SimilarCustomer.Type == 'Business'">
                                                <p class="cust_name">{{SimilarCustomer.CustomerName }}</p>
                                                <p>{{SimilarCustomer.WorkEmail}}</p>
                                                <p>{{SimilarCustomer.WorkNumber}}</p>
                                                <p style="margin-top: 10px;">CUSTOMER ({{SimilarCustomer.Type}})</p>
                                            </div>
    
    
    
    
    
    
    
                                        </div>
    <!--                                    <div class="bottomgoldbox"> -->
    <!--                                        <i>CUSTOMER ({{SimilarCustomer.Type}})</i> -->
    <!--                                    </div> -->
                                    </div>
                                </div>
                            </div>
                            <div class="popupright" ng-class="{'col-lg-8 col-lg-8': CustomerModal.IsEditMode == false , 'leftBorderNone col-lg-12 col-lg-12': CustomerModal.IsEditMode == true}">
                                <div class="right_heading_container col-lg-12 col-md-12">
                                    <h1 class="right_panel_heading"
                                        ng-show="CustomerModal.IsEditMode == true && CustomerModal.CustomerInfo.Type == 'Individual'">{{CustomerModal.CustomerInfo.FirstName}}
                                        {{CustomerModal.CustomerInfo.LastName}}</h1>
                                    <h1 class="right_panel_heading"
                                        ng-show="CustomerModal.IsEditMode == true && CustomerModal.CustomerInfo.Type == 'Business'">{{CustomerModal.CustomerInfo.BusinessName}}</h1>
                                    <h1 class="right_panel_heading"
                                        ng-show="CustomerModal.IsEditMode == false">{{ 'New_Label' | translate }} {{ 'Customer_Object_Display_Label' | translate }}</h1>
                                    <div class="savecancle_btncntnr">
                                        <button type="button" id="closemodal"
                                            class="btn btn-default grayBtn"
                                            ng-click="CustomerModal.CancelCustomer()"
                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 205}}">{{ 'Cancel_Label' | translate }}</button>
                                        <button type="button" class="btn btn-default greenBtn"
                                            ng-click="CustomerModal.SaveCustomer()"
                                            ng-disabled='CustomerModal.disableSaveBtn'
                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 204}}">{{ 'Save_Label' | translate }}</button><!-- ng-disabled conditions: Added By pooja 21 Jan. 2017 -->
                                    </div>
                                </div>
                                <div class="tabbtn_container col-lg-12 col-md-12 customerTypeSection">
                                    <button type="button" class="btn C5" style="margin-left: 2px; text-transform: uppercase;"
                                        ng-class="CustomerModal.CustomerInfo.Type == 'Business' ? 'activeType T4' : 'T7'"
                                        ng-click="CustomerModal.ChangeCustomerType('Individual') ">{{ 'Label_Individual' | translate }}</button>
                                    <button type="button" class="btn T4 C5" style="text-transform: uppercase;"
                                        ng-class="CustomerModal.CustomerInfo.Type == 'Individual' ? 'activeType T4' : 'T7'"
                                        ng-click="CustomerModal.ChangeCustomerType('Business')">{{ 'Label_Business' | translate }}</button>
                                </div>
                                <div class="tabconainer" style="min-height: 524px;">
                                    <form>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.Active.isPrimary">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">
    
                                                </span>
                                                <p>{{ 'Label_Active' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group onehalf">
                                                    <div class="chkbox_custom">
                                                        <div class="leftchked "
                                                            ng-class="{'checked' : CustomerModal.CustomerInfo.Active}"
                                                            id="ActiveCustomer"
                                                            ng-click="CustomerModal.SetCustomerActiveStatus(true)"
                                                            rel="ActiveFlagIcon">{{ 'Label_Yes' | translate }}</div>
                                                        <div class="rightchked"
                                                            ng-class="{'checked' : CustomerModal.CustomerInfo.Active !=true}"
                                                            id="DeActiveCustomer"
                                                            ng-click="CustomerModal.SetCustomerActiveStatus(false)"
                                                            rel="ActiveFlagIcon">{{ 'Label_No' | translate }}</div>
                                                    </div>
                                                </div>
                                                <div class="form-group" style="float: right;">
                                                    <label for="required" class="FC9">* {{ 'Indicates_Required_Fields' | translate }}</label>
                                                </div>
                                            </div>
                                            <div class="controls1 controls" id="ActiveFlagIcon">
                                                <i class="fa fa-question-circle"></i> <i class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('Active')"></i>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
    
                                        <div class="option_field"
                                            ng-show="CustomerModal.CustomerInfo.Type == 'Individual'">
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons"> <i class="fa fa-star"></i>
                                                </span> -->
                                                <span class="form_lable_icons" style="background: none;">
                                                </span>
                                                <p>{{ 'Label_Name' | translate }}</p>
                                            </div>
                                            <div class="form_fields" style="margin: 4px 0 8px 0;">
                                                <div class="form-group ">
                                                    <label for="labelFirstName"><span class="FC9">*</span> {{ 'Label_First' | translate }} {{ 'Label_Name' | translate }} </label> <input
                                                        type="text" class="form-control " id="txtFirstName"
                                                        ng-model="CustomerModal.CustomerInfo.FirstName"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['FirstName']['isError'] == true}"
                                                        ng-blur="CustomerModal.validateForm('FirstName'); CustomerModal.getOtherSimilarCustomer();CustomerModal.preventSpecialChar($event,'FirstName',true)"
                                                        placeholder="{{ 'Label_First' | translate }} {{ 'Label_Name' | translate }}" rel="Name"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 1}}"
                                                        title="{{CustomerModal.CustomerValidation['FirstName']['ErrorMessage'] }}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('Name')" 
                                                        ng-keyup = "CustomerModal.preventSpecialChar($event,'FirstName')" />
                                                </div>
                                                <div class="form-group">
                                                    <label for="labelMiddleName">Middle Name</label> <input
                                                        type="text" class="form-control " id="txtMiddleName"
                                                        ng-model="CustomerModal.CustomerInfo.MiddleName"
                                                        ng-blur="CustomerModal.preventSpecialChar($event,'MiddleName',true)"
                                                       placeholder="Middle Name" rel="Nickname"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 2}}"
                                                        title="{{CustomerModal.CustomerValidation['MiddleName']['ErrorMessage'] }}" 
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('Nickname')"
                                                        ng-keyup = "CustomerModal.preventSpecialChar($event,'MiddleName')"/>
                                                </div>
                                            </div>
                                            <div class="controls MT25" id="Name">
    
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_provide_first_name_customer'| translate }}"></i> <i
                                                    class="fa fa-times"
    
                                                    ng-click="CustomerModal.ClearAndRemoveField('FnameLname', 'txtFirstName')"></i>
                                            </div>
    
                                            <div class="clearfix"></div>
                                            <div class="form_fields" style="margin: 4px 0 8px 0;">    
    
                                                <div class="form-group">
                                                    <label for="labelLastName"><span class="FC9">*</span> {{ 'Label_Last' | translate }} {{ 'Label_Name' | translate }}</label> <input
                                                        type="text" class="form-control " id="txtLastName"
                                                        ng-model="CustomerModal.CustomerInfo.LastName"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['LastName']['isError'] == true}"
                                                        ng-blur="CustomerModal.validateForm('LastName'); CustomerModal.getOtherSimilarCustomer();CustomerModal.preventSpecialChar($event,'LastName',true)"
                                                       placeholder="{{ 'Label_Last' | translate }} {{ 'Label_Name' | translate }}" rel="Nickname"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 2}}"
                                                        title="{{CustomerModal.CustomerValidation['LastName']['ErrorMessage'] }}" 
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('Nickname')"
                                                        ng-keyup = "CustomerModal.preventSpecialChar($event,'LastName')"/>
                                                </div>
                                                    
        
                                                <div class="form-group">
                                                    <label for="exampleInputPassword1">{{ 'Label_Nick' | translate }} {{ 'Label_Name' | translate }}</label> <input
                                                        type="text" class="form-control " id="nickName"
                                                        ng-model="CustomerModal.CustomerInfo.Nickname"
                                                        placeholder="{{ 'Label_Nick' | translate}} {{ 'Label_Name' | translate}}" rel="Nickname"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 3}}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('Nickname')" />
    
                                                </div>
                                            </div>
                                            <div class="controls MT25" id="Nickname">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_last_name_nick_name_customer'| translate }}"></i> <i
    
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('NickName','nickName')"></i>
                                            </div>
                                        </div>
                                        
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.CustomerInfo.Type == 'Business'">
                                            <div class="clearfix"></div>
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons"> <i class="fa fa-star"></i>
                                                </span> -->
                                                <span class="form_lable_icons" style="background: none;">
                                                </span>
                                                <p>{{ 'Label_Company' | translate }} {{ 'Label_Name' | translate }} <span class="FC9">*</span></p>
                                            </div>
                                            <div class="form_fields" style="margin: 4px 0 8px 0;">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control " id="businessName"
                                                        ng-model="CustomerModal.CustomerInfo.BusinessName"
                                                        placeholder="{{ 'Label_Company' | translate }} {{ 'Label_Name' | translate }}" rel="BusinessName"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['BusinessName']['isError'] == true}"
                                                        ng-blur="CustomerModal.validateForm('BusinessName'); CustomerModal.getOtherSimilarCustomer();CustomerModal.preventSpecialChar($event,'BusinessName',true)"
                                                        title="{{CustomerModal.CustomerValidation['BusinessName']['ErrorMessage'] }} "
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 1}}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('BusinessName')"
                                                        ng-keyup = "CustomerModal.preventSpecialChar($event,'BusinessName')" />
                                                </div>
                                            </div>
                                            <div class="controls" id="BusinessName">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_provide_business_name_customer'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('BusinessName', 'businessName')"></i>
                                            </div> <!-- its position edited by kajal 6th june 2017 #2024 -->
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.CustomerInfo.Type == 'Individual'">
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;">  </span>
                                                <p>{{ 'Label_Home' | translate }} {{ 'Label_Email' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control "
                                                        ng-model="CustomerModal.CustomerInfo.HomeEmail"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 4}}"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer(); CustomerModal.validateForm('HomeEmail');"
                                                        id="homeEmail" placeholder="{{ 'Label_Home' | translate }} {{ 'Label_Email' | translate }}" rel="HomeEmail"
                                                        title="{{CustomerModal.CustomerValidation['HomeEmail']['ErrorMessage'] }}"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['HomeEmail']['isError'] == true}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('HomeEmail')" />
                                                    <a  class="bookmarklink"> <i class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredEmail == 'HomeEmail' ? ' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredEmail','HomeEmail');"></i>
    
                                                    </a>
                                                </div>
    
                                            </div>
                                            <div class="controls" id="HomeEmail">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_personal_email_address'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('HomeEmail','homeEmail')"></i>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.CustomerInfo.Type == 'Business'">
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;">  </span>
                                                <p>{{ 'Label_Work' | translate }} {{ 'Label_Email' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="email" class="form-control "
                                                        ng-model="CustomerModal.CustomerInfo.WorkEmail"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['WorkEmail']['isError'] == true}"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer(); CustomerModal.validateForm('WorkEmail');"
                                                        id="workEmail" placeholder="{{ 'Label_Work' | translate }} {{ 'Label_Email' | translate }}" rel="WorkEmail"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 5}}"
                                                        title="{{CustomerModal.CustomerValidation['WorkEmail']['ErrorMessage'] }}" 
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('WorkEmail')"/>
                                                    <a  class="bookmarklink"> <i class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredEmail == 'WorkEmail'?' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredEmail','WorkEmail');"></i>
                                                    </a>
                                                </div>
    
                                            </div>
                                            <div class="controls" id="WorkEmail">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_work_email_address'| translate }}"></i> <i class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('WorkEmail','workEmail')"></i>
    
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.OtherEmail.isPrimary">
    
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;">  </span>
    
                                                <p>{{ 'Other_Email' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control "
                                                        ng-model="CustomerModal.CustomerInfo.OtherEmail"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['OtherEmail']['isError'] == true}"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer(); CustomerModal.validateForm('OtherEmail');"
                                                        id="otherEmail" placeholder="{{ 'Other_Email' | translate }}" rel="AddEditCustomer_OtherEmail1"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 6}}"
                                                        title="{{CustomerModal.CustomerValidation['OtherEmail']['ErrorMessage'] }}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('AddEditCustomer_OtherEmail1')" />
                                                    <a  class="bookmarklink"> <i class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredEmail == 'OtherEmail' ? ' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredEmail','OtherEmail');"></i>
                                                    </a>
                                                </div>
    
                                            </div>
                                            <div class="controls" id="AddEditCustomer_OtherEmail1">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_alternate_email_address'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('OtherEmail','otherEmail')"></i>
    
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.CustomerInfo.Type == 'Individual'">
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;">  </span>
                                                 <p>{{ 'Label_Mobile_Number' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group medium">
                                                    <input type="text" class="form-control" id="homePhone" maxlength="11"
                                                    
                                                        ng-model="CustomerModal.CustomerInfo.HomeNumber"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['HomeNumber']['isError'] == true}"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer(); CustomerModal.validateForm('HomeNumber');"
                                                        placeholder="{{ 'Label_Home' | translate }} {{ 'Label_Phone' | translate }}" rel="HomeNumber"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 7}}"
                                                        title="{{CustomerModal.CustomerValidation['HomeNumber']['ErrorMessage'] }}" 
                                                         ng-focus="CustomerModal.formFieldJustGotFocus('HomeNumber')"/>
                                                    <a  class="bookmarklink"> <i class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredPhone == 'HomeNumber' ? ' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredPhone','HomeNumber');"></i>
                                                    </a>
                                                </div>
                                                <div class="form-group small" ng-class="{'disableHomeSmsChkBx' : CustomerModal.CustomerValidation['HomeNumber']['isError'] || CustomerModal.CustomerInfo.HomeNumber == null || CustomerModal.CustomerInfo.HomeNumber == undefined || CustomerModal.CustomerInfo.HomeNumber == ''}">
    
                                                    <label class="checkbox smschkbox"> <span
                                                        class="chk_tick"
                                                        ng-class="{'chked' : CustomerModal.CustomerInfo.HomeNumberSMS==true}"
                                                        ng-click="CustomerModal.markSMS('HomeNumberSMS');">
                                                            <i class="fa fa-check-square chksqure"></i>
                                                    </span>
                                                    </label>
                                                </div>
                                                <div class="form-group small2">
                                                    <label>{{ 'Label_SMS' | translate }} ?</label> <a  class="bookmarklink"> <i
                                                        class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredSMS == 'HomeNumber' ? ' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredSMS','HomeNumber');"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="controls" id="HomeNumber">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_personal_phone'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('HomePhone', 'homePhone')"></i>
                                            </div>
                                        </div>
    
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.CustomerInfo.Type == 'Business'">
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;">  </span>
                                                <p>{{ 'Label_Work' | translate }} {{ 'Label_Phone' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group medium">
                                                    <input type="text" class="form-control" id="workPhone" maxlength="11"
                                                        ng-model="CustomerModal.CustomerInfo.WorkNumber"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['WorkNumber']['isError'] == true}"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer(); CustomerModal.validateForm('WorkNumber');"
                                                        placeholder="{{ 'Label_Work' | translate }} {{ 'Label_Phone' | translate }}" rel="WorkNumber"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 9}}"
                                                        title="{{CustomerModal.CustomerValidation['WorkNumber']['ErrorMessage'] }}" 
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('WorkNumber')"/>
                                                    <a  class="bookmarklink"> <i class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredPhone == 'WorkNumber'?' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredPhone','WorkNumber');"></i>
                                                    </a>
                                                </div>
                                                <div class="form-group small">
                                                    <label class="checkbox smschkbox"> <span
                                                        class="chk_tick"
                                                        ng-class="{'chked' : CustomerModal.CustomerInfo.WorkNumberSMS == true}"
                                                        ng-click="CustomerModal.markSMS('WorkNumberSMS');">
                                                            <i class="fa fa-check-square chksqure"></i>
                                                    </span>
                                                    </label>
                                                </div>
                                                <div class="form-group small2">
                                                    <label>{{ 'Label_SMS' | translate }} ?</label> <a  class="bookmarklink"> <i
                                                        class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredSMS == 'WorkNumber' ? ' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredSMS','WorkNumber');"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="controls" id="WorkNumber">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_work_phone'| translate }}"></i> <i class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('WorkNumber', 'workPhone')"></i>
    
                                            </div>
                                        </div>
    
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.OtherPhone.isPrimary">
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;"></span>
                                                <p>{{ 'Other_Phone' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group medium">
                                                    <input type="text" class="form-control" id="otherPhoneId" maxlength="11"
                                                        ng-model="CustomerModal.CustomerInfo.OtherPhone"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidation['OtherPhone']['isError'] == true}"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer(); CustomerModal.validateForm('OtherPhone');"
                                                        placeholder="{{ 'Other_Phone' | translate }}" rel="AddEditCustomer_OtherNumber"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 10.1}}"
                                                        title="{{CustomerModal.CustomerValidation['OtherPhone']['ErrorMessage'] }}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('AddEditCustomer_OtherNumber')" />
                                                    <a  class="bookmarklink"> <i class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredPhone == 'OtherPhone' ? ' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredPhone','OtherPhone');"></i>
                                                    </a>
                                                </div>
                                                <div class="form-group small">
                                                    <label class="checkbox smschkbox"> <span
                                                        class="chk_tick"
                                                        ng-class="{'chked' : CustomerModal.CustomerInfo.MobileNumberSMS == true}"
                                                        ng-click="CustomerModal.markSMS('MobileNumberSMS');">
                                                            <i class="fa fa-check-square chksqure"></i>
                                                    </span>
                                                    </label>
                                                </div>
                                                <div class="form-group small2">
                                                    <label>{{ 'Label_SMS' | translate }} ?</label> <a  class="bookmarklink"> <i
                                                        class="fa fa-star"
                                                        ng-class="CustomerModal.CustomerInfo.PreferredSMS == 'OtherPhone' ? ' yellow' : 'FC5'"
                                                        ng-click="CustomerModal.markFavourite('PreferredSMS','OtherPhone');"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="controls" id="AddEditCustomer_OtherNumber">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_alternate_phone_number'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('OtherPhone', 'otherPhoneId')"></i>
                                            </div>
                                        </div>
    
    
                                        <div class="clearfix"></div>
                                        <div class="option_field">
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;"></span>
                                                <p>{{ 'Label_Billing' | translate }} {{ 'Label_Address' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <label for="exampleInputEmail1">{{ 'Label_Address' | translate }} {{ 'Label_Line' | translate }}1</label> <input
                                                        type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.BillingStreet1"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer()"
                                                        id="billingAddress1"
                                                        placeholder="{{'Placeholder_apartment_suite_office_address'| translate }}"
                                                        rel="BillingAddressLine1"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 11}}" 
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('BillingAddressLine1')"/>
    
    
    
                                                </div>
                                            </div>
                                            <div class="controls MT25" id="BillingAddressLine1">
    
    
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_apartment_suite_unit_building_floor_etc'| translate }}"></i> 
                                                <i class="fa fa-times" ng-click="CustomerModal.ClearAndRemoveField('BillingAddLine1', 'billingAddress1')"></i>
    
                                            </div>
                                            <div class="option_field">
                                                <div class="lable_fields">
                                                    
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                    <div class="form-group large">
                                                        <label for="exampleInputEmail1">{{ 'Label_Address' | translate }} {{ 'Label_Line' | translate }}2</label> <input
                                                            type="text" class="form-control"
                                                            ng-model="CustomerModal.CustomerInfo.BillingStreet2"
                                                            id="billingAddress2" placeholder="{{'Street_address_line_1'| translate }}"
                                                            rel="BillingAddressLine2"
                                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 12}}"
                                                            ng-focus="CustomerModal.formFieldJustGotFocus('BillingAddressLine2')" />
        
                                                    </div>
                                                </div>
                                                <div class="controls MT25" id="BillingAddressLine2">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="{{'Helptext_street_address_pobox_companyname'| translate }}"></i> <i
                                                        class="fa fa-times"
                                                        ng-click="CustomerModal.ClearAndRemoveField('BillingAddLine2', 'billingAddress2')"></i>
                                                </div>
                                            </div>
                                            <div class="option_field">
                                                <div class="lable_fields">
                                                    
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                    <div class="form-group half">
                                                        <label for="exampleInputEmail1">{{ 'Label_City' | translate }}</label> <input
                                                            type="text" class="form-control" id="billingCity"
                                                            ng-model="CustomerModal.CustomerInfo.BillingCity"
                                                            placeholder="{{ 'Label_City' | translate}}" rel="CityCounty"
                                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 13}}"
                                                            ng-focus="CustomerModal.formFieldJustGotFocus('CityCounty')" />
        
                                                    </div>
                                                    <div class="form-group half">
                                                        <label for="exampleInputEmail1">County/Parish</label> <input
                                                            type="text" class="form-control" id="billingCountyParish"
                                                            ng-model="CustomerModal.CustomerInfo.BillingCountyParish"
                                                            placeholder="ex: county name" rel="CityCounty"
                                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 14}}"
                                                            ng-focus="CustomerModal.formFieldJustGotFocus('CityCounty')" />
        
                                                    </div>
                                                </div>
                                                <div class="controls MT25" id="CityCounty">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="Select City and County/Parish"></i> <i
                                                        class="fa fa-times"
                                                        ng-click="CustomerModal.ClearAndRemoveField('CityCounty','billingCity')"></i>
                                                </div>
                                            </div>
                                            <div class="option_field">
                                                <div class="lable_fields">
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                    <div class="form-group half">
                                                        <label for="exampleInputEmail1">{{ 'Label_State' | translate }}</label> <select
                                                            class="form-control" rel="StatePostal" id="billingState"
                                                            ng-focus="CustomerModal.formFieldJustGotFocus('StatePostal')"
                                                            ng-model="CustomerModal.SelectedState"
                                                            ng-options="state  as state.StateName for state in CustomerModal.State track by state.Id"
                                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 15}}">
                                                        </select>
                                                    </div>
                                                    <div class="form-group half">
                                                        <label for="exampleInputEmail1">{{ 'Label_Postal' | translate }}</label> <input
                                                            type="text" class="form-control" id="exampleInputEmail1" maxlength="10"
                                                            ng-blur="CustomerModal.validateForm('BillingPostalCode');"
                                                            ng-class="{'redborder' : CustomerModal.CustomerValidation['BillingPostalCode']['isError'] == true}"
                                                            ng-model="CustomerModal.CustomerInfo.BillingPostalCode"
                                                            placeholder="{{ 'Label_Postal' | translate }}" rel="StatePostal"
                                                            title="{{CustomerModal.CustomerValidation['BillingPostalCode']['ErrorMessage'] }}"
                                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 16}}" 
                                                            ng-focus="CustomerModal.formFieldJustGotFocus('StatePostal')"/>
        
                                                    </div>
                                                </div>
                                                <div class="controls MT25" id="StatePostal">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="Add State and Postal Code"></i> <i
                                                        class="fa fa-times"
                                                        ng-click="CustomerModal.ClearAndRemoveField('StatePostal','billingState')"></i>
                                                </div>
                                            </div>
                                            <div class="option_field">
                                                <div class="lable_fields">
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                     <div class="form-group half">
                                                        <label for="exampleInputEmail1">{{ 'Label_Country' | translate }}</label>
                                                        <select class="form-control" rel="Country" id="billingCountry"
                                                            ng-model="CustomerModal.SelectedCountry"  ng-focus="CustomerModal.formFieldJustGotFocus('Country')"
                                                            ng-options="country as country.CountryName for country in CustomerModal.Country track by country.Id"
                                                            ng-change="CustomerModal.changeBillingCountry(); CustomerModal.validatePhone()"
                                                            ng-attr-tabindex="{{CustomerModal.tabIndexValue + 17}}">
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="controls MT25" id="Country">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="Add Country"></i> <i
                                                        class="fa fa-times"
                                                        ng-click="CustomerModal.ClearAndRemoveField('Country','billingCountry')"></i>
                                                </div>
                                            </div>
    
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.ShowFieldCondition('PriceLevel')">
    
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;"> </span><!-- Added by kajal 6th june 2017 #2024 -->
                                                <p>{{ 'Label_Price_Level' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group half">
                                                    <select class="form-control" rel="PriceLevelIcon"
                                                        id="priceLevelDropDown"
                                                        ng-model="CustomerModal.SelectedPriceLevel"
                                                        ng-options="pricelevel as pricelevel.PriceLevelName for pricelevel in CustomerModal.PriceLevel track by pricelevel.Id"
                                                        ng-change="CustomerModal.changePriceLevel()"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 200}}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('PriceLevelIcon')"> <!-- ng-focus added by kajal 6th june 2017 #2024 -->
                                                    </select>
                                                </div>
                                            </div>
    
                                            <div class="controls" id="PriceLevelIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_price_level_customer' | translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('PriceLevel')"></i>
                                            </div>
                                        </div>
                                        
                                        
                                         <div class="clearfix"></div>
                                        <div class="option_field">
    
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;"> </span>
                                                <p>{{ 'Account_Type' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group half">
                                                    <select class="form-control" rel="AccountTypeIcon"
                                                        id="AccountTypeDropDown"
                                                        ng-model="CustomerModal.SelectedAccountType"
                                                        ng-options="accounttyperec as accounttyperec.AccountType for accounttyperec in CustomerModal.AccountTypeList track by accounttyperec.AccountType"
                                                        ng-change="CustomerModal.changeAccountType(CustomerModal.SelectedAccountType)"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 200}}"
                                                        ng-focus="CustomerModal.formFieldJustGotFocus('AccountType')"> <!-- ng-focus added by kajal 6th june 2017 #2024 -->
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.TaxId.isPrimary">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;"></span>
                                                <p>Tax ID#</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.TaxId"
                                                        id="taxId" placeholder="Tax ID" rel="taxIdIcon"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 202}}" ng-focus="CustomerModal.formFieldJustGotFocus('TaxIdIcon')" />
                                                </div>
                                            </div>
                                            <div class="controls" id="TaxIdIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="Add Tax ID"></i> <i class="fa fa-times "
                                                    ng-click="CustomerModal.ClearAndRemoveField('TaxId')"></i>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.OtherId.isPrimary">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">  </span><!-- Added by richa -->
                                                <p>Ag/Other ID#</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.OtherId"
                                                        id="otherId" placeholder="Other ID" rel="OtherIdIcon"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 203}}" ng-focus="CustomerModal.formFieldJustGotFocus('OtherIdIcon')" />
                                                </div>
                                            </div>
                                            <div class="controls" id="OtherIdIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="Add Other ID"></i> <i class="fa fa-times "
                                                    ng-click="CustomerModal.ClearAndRemoveField('OtherId')"></i>
                                            </div>
                                        </div>
                                        <div class="option_field" ng-if="CustomerModal.IsChargeOnAccountRestricted">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;"> </span>
                                                <p>{{ 'Allow_charge_on_account' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <label class="checkbox">
                                                        <span ng-click="CustomerModal.setChargeOnAccount()"
                                                            class="chk_tick" ng-class="{'chked': CustomerModal.CustomerInfo.AllowChargeOnAccount}">
                                                            <i class="fa fa-check-square chksqure"></i>
                                                        </span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>  
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.Birthdate.isPrimary && CustomerModal.CustomerInfo.Type == 'Individual'">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">  </span><!-- Added by richa -->
                                                <p>{{ 'Label_Birthday' | translate }}</p>  
                                            </div>  
	                                         
                                            <div class="datePickerWrappercontainer" >
                                            
                                             <input type="text" class="date-picker" id="BirthDate" placeholder="{{CustomerModal.DateFormat}}" 
                                              ng-model="CustomerModal.CustomerInfo.selectedBirthDate"  date-format = "CustomerModal.DateFormat"  
                                              datepicker = "datepicker" autocomplete="off" readonly = "readonly"  end-date = "CustomerModal.BirthdateValidation.maxDate" start-date = "CustomerModal.BirthdateValidation.minDate"
                                               />
                                           </div>
	                                    </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.FacebookLink.isPrimary">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">  </span><!-- Added by richa -->
                                                <p>{{ 'Label_Facebook' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.FacebookLink"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer()"
                                                        id="facebookLink" placeholder="{{ 'Label_Facebook' | translate }}" rel="AddEditCustomer_FacebookIcon"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 27}}" ng-focus="CustomerModal.formFieldJustGotFocus('AddEditCustomer_FacebookIcon')"/>
                                                    <a  class="bookmarklink"> <i
                                                        class="fa fa-facebook-square" style="color: #45619D;"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="controls" id="AddEditCustomer_FacebookIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_facebook_profile_link'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('FacebookLink')"></i>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.TwitterLink.isPrimary">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">  </span><!-- Added by richa -->
                                                <p>{{ 'Label_Twitter' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.TwitterLink"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer()"
                                                        id="twitterLink" placeholder="{{ 'Label_Twitter' | translate }}" rel="AddEditCustomer_TwitterIcon"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 28}}" ng-focus="CustomerModal.formFieldJustGotFocus('AddEditCustomer_TwitterIcon')"/>
                                                    <a  class="bookmarklink"> <i
                                                        class="fa fa-twitter-square" style="color: #52A7E7;"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="controls" id="AddEditCustomer_TwitterIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_twitter_profile_link'| translate }}"></i> <i class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('TwitterLink')"></i><!-- title Edited by kajal 3rd june 2017 #1796 -->
                                            </div>
                                        </div>
    
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.LinkedInLink.isPrimary">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">  </span><!-- Added by richa -->
                                                <p>{{ 'Label_LinkedIn' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.LinkedInLink"
                                                        ng-blur="CustomerModal.getOtherSimilarCustomer()"
                                                        id="LinkedinLink" placeholder="{{ 'Label_LinkedIn' | translate }}" rel="AddEditCustomer_LinkedInIcon"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 29}}" ng-focus="CustomerModal.formFieldJustGotFocus('AddEditCustomer_LinkedInIcon')"/>
                                                    <a  class="bookmarklink"> <i
                                                        class="fa fa-linkedin" style="color: #52A7E7;"></i>
    
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="controls" id="AddEditCustomer_LinkedInIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_linkedin_profile_link'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('LinkedInLink')"></i>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.Company.isPrimary && CustomerModal.CustomerInfo.Type == 'Individual'">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">  </span><!-- Added by richa -->
                                                <p>{{ 'Label_Company' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.Company"
                                                        id="companyName" placeholder="{{ 'Label_Company' | translate }}" rel="CompanyIcon"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 30}}" ng-focus="CustomerModal.formFieldJustGotFocus('CompanyIcon')" />
                                                </div>
                                            </div>
                                            <div class="controls" id="CompanyIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_add_price_level_customer' | translate }}"></i> <i class="fa fa-times "
                                                    ng-click="CustomerModal.ClearAndRemoveField('Company')"></i>
                                            </div>
                                        </div>
    
                                        <div class="clearfix"></div>
                                        <div class="option_field"
	                                        ng-show="CustomerModal.AdditionalFieldsInfo.DriversLicense.isPrimary && CustomerModal.CustomerInfo.Type == 'Individual'">
	                                        <div class="lable_fields">
	                                        	<span class="form_lable_icons text" style="background: none;">  </span>
	                                            <p>{{ 'Drivers_License' | translate }}</p>
	                                        </div>
	                                        <div class="form_fields">
	                                            <div class="form-group large">
	                                                <input type="text" class="form-control"
	                                                    ng-model="CustomerModal.CustomerInfo.DriversLicense"
	                                                    id="driversLicenseId" placeholder="{{ 'Drivers_License' | translate }}" rel="DriversLicenseIcon"
	                                                    ng-attr-tabindex="{{CustomerModal.tabIndexValue + 30}}" ng-focus="CustomerModal.formFieldJustGotFocus('DriversLicenseIcon')" maxlength="25"/>
	                                            </div>
	                                        </div>
	                                        <div class="controls" id="DriversLicenseIcon">
	                                            <i class="fa fa-question-circle" data-toggle="tooltip"
	                                                title="{{'HelpText_Add_Drivers_License' | translate }}"></i> <i class="fa fa-times "
	                                                ng-click="CustomerModal.ClearAndRemoveField('DriversLicense')"></i>
	                                        </div>
	                                    </div>
	
	                                    <div class="clearfix"></div>
	                                    <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.LicenseExpiryDate.isPrimary && CustomerModal.CustomerInfo.Type == 'Individual'">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;"></span>
                                                <p>{{ 'License_Expires' | translate }}</p>  
                                            </div>  
                                            <div class="datePickerWrappercontainer" >
                                             <input type="text" class="date-picker" id="LicenseExpiryFormattedDate" placeholder="{{CustomerModal.DateFormat}}" 
                                              ng-model="CustomerModal.CustomerInfo.LicenseExpiryFormattedDate"  date-format = "CustomerModal.DateFormat"  
                                              datepicker = "datepicker" autocomplete="off" readonly = "readonly"
                                               />
                                           </div>
	                                    </div>
	
	                                    <div class="clearfix"></div>
	                                    <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.JobTitle.isPrimary && CustomerModal.CustomerInfo.Type == 'Individual'">
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">  </span><!-- Added by richa -->
                                                <p>{{ 'Job_Title' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group large">
                                                    <input type="text" class="form-control"
                                                        ng-model="CustomerModal.CustomerInfo.JobTitle"
                                                        id="jobTitle" placeholder="{{ 'Job_Title' | translate }}" rel="JobtitleIcon"
                                                        ng-attr-tabindex="{{CustomerModal.tabIndexValue + 31}}" ng-focus="CustomerModal.formFieldJustGotFocus('JobtitleIcon')"/>
                                                </div>
                                            </div>
                                            <div class="controls" id="JobtitleIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{ 'Label_Add' | translate }} {{ 'Job_Title' | translate }}"></i> <i class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('JobTitle')"></i>
    
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="clearfix"></div>
                                
                                
                                <div class="addMoreInfoSection"> 
                                        <button type="button" class="btn C11 T4 addmoreinfoBtn" Id="addmoreinfoBtnId"
                                            data-toggle="dropdown">{{ 'Label_Add_More_Information' | translate }}</button>
                                        <ul class="add_info_dropdown dropdown-menu keep_open">
                                            <div class="right-inner-addon" style="margin: 0 10px;">
                                                <i class="glyphicon glyphicon-search"></i> <input
                                                    class="form-control ng-pristine ng-untouched ng-valid"
                                                    ng-model="CustomerModal.AdditionalFieldsSearch"
                                                    placeholder="{{'Label_Search'| translate }}" type="search" />
            
                                            </div>
            
                                            <li
                                                ng-repeat="(key,value) in FilterAdditionalFields(CustomerModal.AdditionalFieldsInfo)"
                                                ng-if="CustomerModal.manageAdditionalFields(key) && CustomerModal.ShowOrHideActive(key);"
                                                ng-click="CustomerModal.ShowAdditionalField(key)"><a
                                                >{{value.label}}</a></li>
                                        </ul>
                                </div>
                                
    
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="popupinside">
                            <div class="popupleft customerCOU col-lg-4 col-lg-4" ng-show="CustomerModal.IsEditMode != true">
                                <div class="popupleft_container"
                                    style="border-top: 1px solid #cccccc;"
                                    ng-show="CustomerModal.IsEditMode == false">
                                    <h1 class="letpanel_heading">{{ 'Label_Existing' | translate }} {{ 'Customer_Owned_Unit_Object_Display_Label' | translate }} {{ 'Label_Like_This' | translate }}</h1>
                                    <i class="fa fa-question-circle helptip"
                                        style="float: left; font-weight: bold; color: #B7BEC6; margin-top: 20px; margin-bottom: 10px; font-size: 20px;"></i>
                                    
                                    <div class="goldbox exists col-lg-12 col-md-12  couSimilar P0"  ng-repeat="SimilarCOU in CustomerModal.SimilarCOU" ng-show="CustomerModal.SimilarCOU.length != 0">
                                        <div class="pull-left">
                                             <img  class="hideoverflow" src="{!Application_Images}/UnitImage.png" width="80px" height="119px" />
                                        </div>
                                        <div class="rightgoldbox type2">
                                            <p class="cust_name address">
                                                <p class = "T3" ng-if = "SimilarCOU.VIN != null">{{SimilarCOU.VIN}}</p>
                                                <p class = "vinUnknown " ng-if = "SimilarCOU.VIN == null ">VIN unknown</p>
                                               <p class = "T3 col-md-11 texttype col-md-offset-1 P0"> {{SimilarCOU.UnitType}}: <span class = "blue_Text">{{SimilarCOU.UnitType == 'STOCK' ? SimilarCOU.StockId : SimilarCOU.UnitId}}</span></p>
                                               <p class = "T3 col-md-12 P0"><span class = " col-md-6 P0 T3" title = "{{SimilarCOU.MakeName}}">{{SimilarCOU.MakeName}}</span> <span class = "pull-right text-center col-md-5 P0 T3" title = "{{SimilarCOU.Year}}">{{SimilarCOU.Year}}</span> </p>
                                               <p class = "T3 col-md-12 P0"><span class = " col-md-6 P0 T3" title = "{{SimilarCOU.ModelName}}">{{SimilarCOU.ModelName}}</span>  <span class = "pull-right  text-center col-md-5 P0 T3" title = "{{SimilarCOU.Color}}">{{SimilarCOU.Color}}</span></p>
                                               <p class = "T3 col-md-12 P0 lastPtag"><span class = "col-md-6 P0 T3" title = "{{SimilarCOU.SubModelName}}">{{SimilarCOU.SubModelName}}</span>  
                                                    <span class="Active_Button_row pull-right col-md-5 P0">
                                                     <button class="form-control  T4  round_btn " ng-class="{ redColorBg: SimilarCOU.StatusColor=='Red' ,  C10: SimilarCOU.StatusColor=='Green', C5: SimilarCOU.StatusColor=='Black' }" >{{SimilarCOU.Status}}</button> 
                                                    </span>
                                               </p>
                                            </p>
                                        </div>
                                    </div>
                                    
                                    
                                    
                                </div>
                            </div>
                            <div class="popupright"
                                    ng-class="{'col-lg-8 col-lg-8': CustomerModal.IsEditMode == false , 'leftBorderNone col-lg-12 col-lg-12': CustomerModal.IsEditMode == true}">
                                <div class="tabconainer noborder"
                                    style="border-top: 1px solid #cccccc; padding-top: 30px;">
                                    <form>
    
    
                                        <div class="option_field CouData"
                                            ng-repeat="unit in CustomerModal.CustumerUnitModal"
                                            ng-show="CustomerModal.IsEditMode == false"> <!-- CouData Added by kajal 11/22/2016 -->
    
                                            <div class="lable_fields">
                                                <!-- <span class="form_lable_icons text"> 100 </span> -->
                                                <span class="form_lable_icons text" style="background: none;"> </span>
                                                <p>{{ 'Customer_Owned_Unit_Object_Display_Label' | translate }}</p>
                                            </div>
                                            <div class="form_fields">
    
    
                                                <div class="form-group large">
                                                    <label for="exampleInputEmail1">{{ 'Label_VIN' | translate }}</label> <input
                                                        type="text" class="form-control" ng-model="unit.VIN"
                                                        ng-keypress = "CustomerModal.noSpecialChar($event)"
                                                        id="vinId{{$index}}" placeholder="{{ 'Label_VIN' | translate }}"
                                                        ng-focus="CustomerModal.OnFocus('CustomerUnitOptionalVIN'+$index)"
                                                        ng-blur="CustomerModal.OnBlurVin(unit.VIN); CustomerModal.ValidateCou($index,'VIN');"
                                                        rel="{{$index==0 ? 'customerUnitMainVin' : 'CustomerUnitOptional'+$index}}"
                                                        ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 37}}"
                                                        ng-class="{'redborder' : CustomerModal.CustomerValidationCOU[$index]['VIN'].isError == true}"
                                                        title="{{CustomerModal.CustomerValidationCOU[$index]['VIN'].ErrorMessage}}" />
                                                </div>
                                            </div>
                                            <div class="controls MT25"
                                                id="{{'CustomerUnitOptionalVIN'+$index}}">
                                                <i class="fa fa-question-circle" 
                                                    data-toggle="tooltip"
                                                    title="{{'Helptext_add_vehicle_identification_number_unit'| translate }}"></i>
                                                <i class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveSectionField($index,'CustomerUnitModelVin', 'vinId')"></i>
                                            </div>
                                             <div class="option_field">
                                                <div class="lable_fields">
                                                    
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
        
                                                    <div class="form-group half">
                                                    <label for="exampleInputEmail1">{{'Make_Object_Display_Label'| translate }}</label>
                                                   <!-- START: Added by kv 02/12/2017 -->
                                                    <div class="dropdown selectDropbox">
                                                        <input type="text" class="form-control" placeholder="{{'Label_Search'| translate }}" rel="customerUnitMakeSelectedId"
                                                                ng-model="CustomerModal.FilterSearchMake[$index]"  
                                                                ng-keyup="CustomerModal.ChangeSeletedUnitMake($event,$index)"  
                                                                ng-focus="CustomerModal.getUnitmakeList($index,$event)" 
                                                                ng-blur ="CustomerModal.saveUnitMake($index,$event)"
                                                                ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 38}}"
                                                                ng-class="{'redborder' : CustomerModal.CustomerValidationCOU[$index]['Make'].isError == true}"/>
                                                        <ul class="dropdown-menu keep_open" style="overflow: visible;">  
                                                            <div class="right-inner-addon" style="margin: 10px;">
                                                            </div>
                                                            <div class="column_fixHeight" id="TypeFixedHeight"> 
                                                                <li ng-if="(CustomerModal.UnitMake[$index] | filter:CustomerModal.FilterSearchMake[$index]).length == 0" class="noMatchesFound">
                                                                    <span>{{'No_matches'| translate }}</span></li><!-- Added by kajal - 02/20/2017 -->
                                                                <li ng-repeat="make in CustomerModal.filteredItemsMake[$index] = (CustomerModal.UnitMake[$index] | CustomMakeSortData : CustomerModal.FilterSearchMake[$index] : 'make')" 
                                                                    ng-class="{'angucomplete-selected-row': $index == CustomerModal.CurrentIndexMake[$parent.$index].CurrentIndexMake}"   
                                                                    ng-mousedown="CustomerModal.changeUnitMake($parent.$index,make,$event)" >
                                                                    <a  >{{make.UnitMakeName}}</a> 
                                                                </li> <!--  ng-if="(CustomerModal.UnitMake[$index] | filter:CustomerModal.FilterSearchMake[$index]).length > 0" -->
                                                           </div> 
                                                        </ul>
                                                    </div>
                                                    <!-- END: Added by kv 02/12/2017 -->
                                                    
                                                    </div>
                                                    <div class="form-group half">
                                                     <label for="exampleInputEmail1">{{'Model'| translate }}</label>
                                                        <!-- START: Added by kv 02/12/2017 -->
                                                        <div class="dropdown selectDropbox">
                                                            <input type="text" class="form-control" placeholder ="{{'Label_Search'| translate }}" rel="customerUnitMainModelId"
                                                                    ng-model="CustomerModal.FilterSearchUnitModel[$index]"  
                                                                    ng-keyup="CustomerModal.ChangeSeletedUnitModel($event,$index)"  
                                                                    ng-focus="CustomerModal.getUnitModelList($index,$event)" 
                                                                    ng-blur ="CustomerModal.saveUnitModel($index,$event)"
                                                                    ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 39}}"
                                                                    ng-class="{'redborder' : CustomerModal.CustomerValidationCOU[$index]['Model'].isError == true}"/>
                                                            <ul class="dropdown-menu keep_open" style="overflow: visible;"> 
                                                                <div class="right-inner-addon" style="margin: 10px;">
                                                                </div>
                                                                <div class="column_fixHeight" id="TypeFixedHeight">
                                                                    <li ng-if="(CustomerModal.UnitModel[$index] | filter:CustomerModal.FilterSearchUnitModel[$index]).length == 0" class="noMatchesFound">
                                                                    <span>{{'No_matches'| translate }}</span></li><!-- Added by kajal - 02/20/2017 -->
                                                                    <li ng-repeat="model in CustomerModal.filteredItemsModel[$index] =(CustomerModal.UnitModel[$index] | CustomMakeSortData : CustomerModal.FilterSearchUnitModel[$index] : 'model')"  
                                                                        ng-class="{'angucomplete-selected-row': $index == CustomerModal.CurrentIndexUnitModel[$parent.$index].CurrentIndexUnitModel}" 
                                                                        ng-mousedown="CustomerModal.changeUnitmodel($parent.$index, model, $event)" >
                                                                        <a>{{model.UnitModelName}}</a> 
                                                                    </li> <!-- ng-if="(CustomerModal.UnitModel[$index] | filter:CustomerModal.FilterSearchUnitModel[$index]).length > 0" -->
                                                               </div> 
                                                            </ul>
                                                        </div>
                                                        <!-- END: Added by kv 02/12/2017 -->
                                                    </div>
                                                </div>
                                                <div class="controls MT25" 
                                                    id="{{'CustomerUnitOptionalMakeModel'+$index}}">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="{{'Helptext_select_make_model_unit'| translate }}"></i> 
                                                    <i class="fa fa-times" ng-if="$index == 0"
                                                        ng-click="CustomerModal.ClearAndRemoveSectionField($index,'CustomerUnitMakeModel', 'customerUnitMakeId')"></i> <!-- ng-click parameter Changed by richa CustomerUnitYearMake customerUnitYearMakeId #116 PE 27/09/2016 -->
                                                </div>
                                            </div>
                                             <div class="option_field">
                                                <div class="lable_fields">
                                                    
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                     
                                                    <div class="form-group half">
                                                       <label for="exampleInputEmail1">{{ Custom_Label_Sub_Model | translate }}</label>
                                                            <!-- START: Added by kv 02/12/2017 -->
                                                        <div class="dropdown selectDropbox">
                                                            <input type="text" class="form-control " placeholder="{{'Label_Search'| translate }}" rel="customerSubModelId"
                                                                    ng-model="CustomerModal.FilterSearchUnitSubModel[$index]"  
                                                                    ng-keyup="CustomerModal.ChangeSeletedUnitSubModel($event,$index)"  
                                                                    ng-focus="CustomerModal.getUnitSubModelList($index,$event)" 
                                                                    ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 40}}"
                                                                    ng-blur ="CustomerModal.saveUnitSubModel($index,$event)"/>
                                                            <ul class="dropdown-menu keep_open" style="overflow: visible;"> 
                                                                <div class="right-inner-addon" style="margin: 10px;">
                                                                </div>  
                                                                <div class="column_fixHeight" id="TypeFixedHeight">
                                                                    <li ng-if="(CustomerModal.UnitSubModel[$index] | filter:CustomerModal.FilterSearchUnitSubModel[$index]).length == 0" class="noMatchesFound">
                                                                    <span>{{'No_matches'| translate }}</span></li><!-- Added by kajal - 02/20/2017 -->
                                                                    <li ng-repeat="model in CustomerModal.filteredItemsSubModel[$index]=(CustomerModal.UnitSubModel[$index] | CustomMakeSortData : CustomerModal.FilterSearchUnitSubModel[$index] : 'submodel')" 
                                                                        ng-class="{'angucomplete-selected-row': $index == CustomerModal.CurrentIndexUnitSubModel[$parent.$index].CurrentIndexUnitSubModel}" 
                                                                        ng-mousedown="CustomerModal.changeUnitSubmodel($parent.$index,model,$event)" >
                                                                        <a>{{ model.SubModelName}}</a> 
                                                                    </li> <!-- ng-if="(CustomerModal.UnitSubModel[$index] | filter:CustomerModal.FilterSearchUnitSubModel[$index]).length > 0" -->
                                                                </div> 
                                                            </ul>
                                                        </div>
                                                        <!-- END: Added by kv 02/12/2017 -->
                                                    </div>
                                                    <div class="form-group half">
                                                        <label for="exampleInputEmail1">{{ 'Label_Year' | translate }}</label> <select
                                                            class="form-control" placeholder="{{'Label_Year'| translate }}"
                                                            ng-focus="CustomerModal.OnFocus('CustomerUnitOptionalSubModelYear'+$index)"
                                                            ng-blur="CustomerModal.OnBlur('CustomerUnitOptionalSubModelYear'+$index)"
                                                            id="customerUnitYearMakeId"
                                                            ng-model="CustomerModal.UnitYearSelected[$index]"
                                                            ng-change="CustomerModal.changeUnitYear($index)"
                                                            rel="{{'CustomerUnitOptionalSubModelYear'+$index}}"
                                                            ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 41}}"
                                                            ng-options="i as i.modelyear for i in CustomerModal.ModelYears track by i.modelyear">
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="controls MT25" 
                                                    id="{{'CustomerUnitOptionalSubModelYear'+$index}}">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="{{'Helptext_select_submodel_year_unit'| translate }}"></i> 
                                                    <i class="fa fa-times" ng-if="$index == 0"
                                                        ng-click="CustomerModal.ClearAndRemoveSectionField($index,'CustomerUnitSubModelYear', 'customerUnitSubModelId')"></i> <!-- ng-click parameter Changed by richa CustomerUnitModelSubModel customerUnitModelId #116 PE 27/09/2016 -->
                                                </div>
                                            </div>
                                            <div class="option_field" ng-if="CustomerModal.CustumerUnitModal[$index].MakeModelDescription != null"><!-- ng-if="CustomerModal.UnitModelSelected[$index].MakeModelDescription != null" -->
                                                <div class="lable_fields">
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                    <div class="form-group large">
                                                        <span class="T3">{{CustomerModal.CustumerUnitModal[$index].MakeModelDescription}}</span>
                                                    </div>
                                                </div>
                                            </div>          
                                            <div class="option_field">
                                                <div class="lable_fields">
                                                    
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                    <div class="form-group large">
                                                        <label for="exampleInputEmail1">{{ 'Exterior_colour_Label' | translate }}</label> <input
                                                            type="text" class="form-control noSpecialchar" ng-model="unit.Color"
                                                            id="colorId" placeholder="{{ 'Label_Color' | translate }}" maxlength="20"
                                                            ng-keypress = "CustomerModal.noSpecialChar($event)"
                                                            ng-focus="CustomerModal.OnFocus('CustomerUnitOptionalColor'+$index)"
                                                            ng-blur="CustomerModal.OnBlur('CustomerUnitOptionalColor'+$index)"
                                                            rel="{{$index==0 ? 'customerUnitMainColor' : 'CustomerUnitOptional'+$index}}"
                                                            ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 42}}" />
        
                                                    </div>
                                                </div>
                                                <div class="controls MT25" 
                                                    id="{{'CustomerUnitOptionalColor'+$index}}">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="{{'Helptext_add_color_unit'| translate }}"></i> <i
                                                        class="fa fa-times" ng-if="$index == 0"
                                                        ng-click="CustomerModal.ClearAndRemoveSectionField($index,'customerUnitColor', 'colorId')"></i>
                                                </div>
                                            </div>
                                             <div class="option_field">
                                                <div class="lable_fields">
                                                    
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                    <div class="form-group half"><!-- edited by kajal 1st april, 2017 #1975 -->
                                                        <label for="exampleInputEmail1">{{ 'Label_Plate' | translate }}/{{ 'Reg' | translate }}#</label> <input
                                                            type="text" class="form-control noSpecialchar" ng-model="unit.Plate"
                                                            ng-keypress = "CustomerModal.noSpecialChar($event)"
                                                            id="plateId" placeholder="{{ 'Label_License' | translate }} {{ 'Label_Plate' | translate }}"
                                                            ng-focus="CustomerModal.OnFocus('CustomerUnitOptionalLicense'+$index)"
                                                            ng-blur="CustomerModal.OnBlur('CustomerUnitOptionalLicense'+$index)"
                                                            rel="{{$index==0 ? 'customerUnitMainLisense' : 'CustomerUnitOptional'+$index}}"
                                                            ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 43}}" />
        
                                                    </div>
                                                    <!-- Added by kajal 1st april, 2017 #1975 -->
                                                    <div class="form-group half"><!-- edited by kajal 1st april, 2017 #1975 -->
                                                        <label for="exampleInputEmail1">{{ 'Reg_Expiry_Date' | translate }}</label> 
                                                        <input type="text" 
                                                            style="background: #FFF;" 
                                                            ui-date="CustomerModal.dateOptionsForRegExpiryDate"
                                                            ui-date-format="{{CustomerModal.DateFormat}}" 
                                                            class="form-control smallForm-control datepicker"
                                                            ng-model="unit.RegExpiryDate" 
                                                            rel="{{$index==0 ? 'customerUnitMainLisense' : 'CustomerUnitOptional'+$index}}"
                                                            readonly="readonly"/>
                                                        <span class="input-group-addon btn datepickerBtn"  ng-click="CustomerModal.showDatePicker($event)" style="cursor:pointer; position: absolute;right: 10%;top: 50%; padding: 0;font-size: 18px;">
                                                            <span class="glyphicon glyphicon-calendar"></span>
                                                        </span>
                                                    </div>
                                                    <!-- Added by kajal 1st april, 2017 #1975 -->
                                                </div>
                                                <div class="controls MT25" 
                                                    id="{{'CustomerUnitOptionalLicense'+$index}}">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="{{'Helptext_add_license_pLate_number_expiry_date'| translate }}"></i> 
                                                    <i class="fa fa-times" ng-if="$index == 0"
                                                        ng-click="CustomerModal.ClearAndRemoveSectionField($index,'CustomerUnitLicensePlate', 'licensePlateId')"></i>
                                                </div>
                                            </div>
                                                
                                            
                                          
                                            
                                             <div class="option_field">
                                                <div class="lable_fields">
                                                    
                                                    <p></p>
                                                </div>
                                                <div class="form_fields">
                                                    <div class="form-group half">
                                                        <label for="exampleInputEmail1">{{ 'Label_Mileage' | translate }}</label> 
                                                        <!-- <input type="text" class="form-control " ng-model="unit.Mileage"
                                                            id="mileageId" placeholder="{{ 'Label_Mileage' | translate }}" maxlength="6"
                                                            ng-focus="CustomerModal.OnFocus('CustomerUnitOptionalMilage'+$index)"
                                                            ng-blur="CustomerModal.ValidateCou($index,'Mileage'); CustomerModal.OnBlur('CustomerUnitOptionalMilage'+$index);"
                                                            rel="{{$index==0 ? 'customerUnitMainMilage' : 'CustomerUnitOptional'+$index}}"
                                                            ng-attr-tabindex="{{($index * 8) + CustomerModal.tabIndexValue + 44}}"
                                                            ng-class="{'redborder' : CustomerModal.CustomerValidationCOU[$index]['Mileage'].isError == true}"
                                                            title="{{CustomerModal.CustomerValidationCOU[$index]['Mileage'].ErrorMessage}}" /> -->
                                                            
                                                       <price-only-input id-value = "mileageId"
                                                              class-value = "form-control"
                                                              place-holder-value = "{{ 'Label_Mileage' | translate }}"
                                                              max-length = "6" 
                                                              precision-length = "1" 
                                                              input-value = "unit.Mileage"
                                                              input-model = "unit.Mileage" 
                                                              rel-value = "{{$index==0 ? 'customerUnitMainMilage' : 'CustomerUnitOptional'+$index}}"
                                                              tab-index = "{{($index * 8) + CustomerModal.tabIndexValue + 44}}"
                                                              validation-modal = "COUModal.COUFormValidationModal"
                                                              validation-modal-key = "Mileage" />
        
                                                    </div>
                                                    
                                                     <div class="form-group half">
                                                        <label for="exampleInputEmail1">{{'Mileage_type'| translate }}</label>  
                                                        <select class="form-control small-haff-form-control" placeholder="{{'Label_Mileage'| translate }}" 
                                                       ng-model="unit.MileageType"
                                                        ng-options="i.Value as i.Value for i in CustomerModal.MileageList">
                                                        </select>  
        
                                                    </div>
                                                </div>
                                                <div class="controls MT25" 
                                                    id="{{'CustomerUnitOptionalMilage'+$index}}">
                                                    <i class="fa fa-question-circle" data-toggle="tooltip"
                                                        title="{{'Helptext_add_mileage_unit'| translate }}"></i> 
                                                    <i class="fa fa-times" ng-if="$index == 0"
                                                        ng-click="CustomerModal.ClearAndRemoveSectionField($index,'CustomerUnitMilage', 'mileageId')"></i>
                                                </div>
                                            </div>
                                          
                                       
                                       
                                        </div>
                                        
                                            <div class="option_field"
                                            ng-show="CustomerModal.AdditionalFieldsInfo.IsVendor.isPrimary">
    
                                            <div class="lable_fields">
                                                <span class="form_lable_icons text" style="background: none;">
    
                                                </span>
                                                <p>{{ 'Vendor_Object_Display_Label' | translate }}</p>
    
                                            </div>
                                            <div class="form_fields">
                                                <div class="form-group onehalf">
                                                    <div class="chkbox_custom" rel="VendorIcon">
                                                        <div class="leftchked"
                                                            ng-class="{'checked' : CustomerModal.CustomerInfo.IsVendor, 'bp-disabled': CustomerModal.isCustomer_a_Vendor}"
                                                            id="ActiveVendor"
                                                            ng-click="CustomerModal.SetVendorActive(true)">{{ 'Label_Yes' | translate }}
                                                        </div>
                                                        <div class="rightchked"
                                                            ng-class="{'checked' : CustomerModal.CustomerInfo.IsVendor != true, 'bp-disabled': CustomerModal.isCustomer_a_Vendor}"
                                                            id="DeActiveVendor"
                                                            ng-click="CustomerModal.SetVendorActive(false)">{{ 'Label_No' | translate }}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group threehalf">
                                                    <select class="form-control" rel="VendorIcon"
                                                        id="vendorDropDown"
                                                        ng-disabled="CustomerModal.CustomerInfo.IsVendor !=true"
                                                        ng-model="CustomerModal.VendorSelectedSalesTax"
                                                        ng-options="purchase as purchase.SalesTaxName for purchase in CustomerModal.SalesTax track by purchase.Id">
    
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="controls" id="VendorIcon">
                                                <i class="fa fa-question-circle" data-toggle="tooltip"
                                                    title="{{'Helptext_select_if_customer_also_vendor'| translate }}"></i> <i
                                                    class="fa fa-times"
                                                    ng-click="CustomerModal.ClearAndRemoveField('IsVendor')"></i>
    
                                            </div>
                                        </div>
    
    
    
    
                                        <div class="clearfix"></div>
                                        <div class="right_heading_container col-lg-12 col-md-12">
                                            <div class="savecancle_btncntnr">
                                                <button type="button" id="closemodal"
                                                    class="btn btn-default grayBtn"
                                                    ng-click="CustomerModal.CancelCustomer()"
                                                    ng-attr-tabindex="{{CustomerModal.tabIndexValue + 203}}">{{ 'Cancel_Label' | translate }}</button>
                                                <button type="button" class="btn btn-default greenBtn"
                                                    ng-click="CustomerModal.SaveCustomer()"
                                                    ng-disabled='CustomerModal.disableSaveBtn'
                                                    ng-attr-tabindex="{{CustomerModal.tabIndexValue + 202}}">{{ 'Save_Label' | translate }}</button><!-- ng-disabled conditions: Added By pooja 21 Jan. 2017 -->
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 </apex:page>